<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Consciousness Tracker - Agent Girl (Black Text Fixed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // WORKING DROPDOWN FUNCTIONS - RESTORED FROM EARLIER VERSION
        function toggleDayDropdown(dayIndex) {
            // Hide all dropdowns first
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    dropdown.classList.add('hidden');
                }
            }

            // Toggle the clicked dropdown
            const dropdown = document.getElementById(`dropdown-${dayIndex}`);
            if (dropdown) {
                dropdown.classList.toggle('hidden');
            }
        }

        function closeAllDropdowns() {
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    dropdown.classList.add('hidden');
                }
            }
        }

        function selectEnergyForDay(dayIndex, energyLevel, event) {
            // Simple emotion mapping (will use energyEmotions from main script)
            const emotions = {
                700: {name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600'},
                600: {name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600'},
                540: {name: 'Joy', emoji: 'üòä', color: 'bg-blue-600'},
                500: {name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600'},
                400: {name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600'},
                350: {name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600'},
                310: {name: 'Willingness', emoji: 'üí™', color: 'bg-orange-600'},
                250: {name: 'Neutrality', emoji: 'üòê', color: 'bg-gray-500'},
                200: {name: 'Courage', emoji: 'ü¶Å', color: 'bg-yellow-500'},
                175: {name: 'Pride', emoji: 'üòé', color: 'bg-orange-500'},
                150: {name: 'Anger', emoji: 'üò°', color: 'bg-red-500'},
                125: {name: 'Desire', emoji: 'üî•', color: 'bg-orange-600'},
                100: {name: 'Fear', emoji: 'üò®', color: 'bg-red-400'},
                75: {name: 'Grief', emoji: 'üò¢', color: 'bg-red-300'},
                50: {name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-400'},
                30: {name: 'Guilt', emoji: 'üòî', color: 'bg-red-500'},
                20: {name: 'Shame', emoji: 'üòû', color: 'bg-red-600'}
            };

            const emotion = emotions[energyLevel];
            if (!emotion) return;

            // Calculate date for this day
            const today = new Date();
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1;
            monday.setDate(today.getDate() - daysFromMonday);

            const targetDate = new Date(monday);
            targetDate.setDate(monday.getDate() + parseInt(dayIndex));

            const dateKey = targetDate.getFullYear() + '-' +
                           String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                           String(targetDate.getDate()).padStart(2, '0');

            // Save to localStorage
            let energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            energyHistory = energyHistory.filter(entry => entry.date !== dateKey);

            const newEntry = {
                date: dateKey,
                energyLevel: energyLevel,
                emotion: emotion.name,
                emoji: emotion.emoji
            };
            energyHistory.push(newEntry);
            localStorage.setItem('energyHistory', JSON.stringify(energyHistory));

            // Update UI
            const dayButton = document.getElementById(`day-${dayIndex}`);
            if (dayButton) {
                dayButton.innerHTML = `<span class="text-lg leading-none">${emotion.emoji}</span>`;
                dayButton.className = `day-btn w-14 h-14 rounded-2xl border-0 flex items-center justify-center text-white font-bold transition-all shadow-xl ${emotion.color}`;
            }

            const energyName = document.getElementById(`energy-name-${dayIndex}`);
            if (energyName) {
                energyName.textContent = emotion.name;
            }

            // Close dropdown
            closeAllDropdowns();

            // Update Energy History display
            updateEnergyHistory();
                    }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (event.target.closest('.day-btn') || event.target.closest('[id^="dropdown-"]')) {
                return;
            }
            closeAllDropdowns();
        });

        // Update Energy History display function
        function updateEnergyHistory() {
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            const historyDisplay = document.getElementById('historyDisplay');

            console.log('updateEnergyHistory called. energyHistory:', energyHistory);

            if (!historyDisplay) return;

            // Get current week's data (Monday to Sunday)
            const today = new Date();
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1;
            monday.setDate(today.getDate() - daysFromMonday);

            const weeklyData = [];
            const emotions = {
                700: {name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600'},
                600: {name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600'},
                540: {name: 'Joy', emoji: 'üòä', color: 'bg-blue-600'},
                500: {name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600'},
                400: {name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600'},
                350: {name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600'},
                310: {name: 'Willingness', emoji: 'üí™', color: 'bg-orange-600'},
                250: {name: 'Neutrality', emoji: 'üòê', color: 'bg-gray-500'},
                200: {name: 'Courage', emoji: 'ü¶Å', color: 'bg-yellow-500'},
                175: {name: 'Pride', emoji: 'üòé', color: 'bg-orange-500'},
                150: {name: 'Anger', emoji: 'üò°', color: 'bg-red-500'},
                125: {name: 'Desire', emoji: 'üî•', color: 'bg-orange-600'},
                100: {name: 'Fear', emoji: 'üò®', color: 'bg-red-400'},
                75: {name: 'Grief', emoji: 'üò¢', color: 'bg-red-300'},
                50: {name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-400'},
                30: {name: 'Guilt', emoji: 'üòî', color: 'bg-red-500'},
                20: {name: 'Shame', emoji: 'üòû', color: 'bg-red-600'}
            };

            // Check each day of the current week
            for (let i = 0; i < 7; i++) {
                const targetDate = new Date(monday);
                targetDate.setDate(monday.getDate() + parseInt(i));
                const dateKey = targetDate.getFullYear() + '-' +
                               String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                               String(targetDate.getDate()).padStart(2, '0');

                console.log(`Day ${i} - dateKey: ${dateKey}`);
                const dayEntry = energyHistory.find(entry => entry.date === dateKey);
                console.log(`Day ${i} - dayEntry:`, dayEntry);
                const emotion = dayEntry ? emotions[dayEntry.energyLevel] : null;

                weeklyData.push({
                    date: targetDate,
                    dayName: targetDate.toLocaleDateString('en-US', { weekday: 'long' }),
                    dateStr: targetDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                    emotion: emotion,
                    energyLevel: dayEntry ? dayEntry.energyLevel : null
                });
            }

            // Display the history
            console.log('weeklyData before display:', weeklyData);
            if (weeklyData.some(day => day.emotion)) {
                let html = '';
                weeklyData.forEach(day => {
                    if (day.emotion) {
                        console.log('Creating HTML for day:', day);
                        html += `
                            <div class="flex items-center justify-between p-6 bg-[#1a1f2e]/60 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-[#1a1f2e]/80 transition-all duration-300  shadow-lg hover:shadow-xl">
                                <div class="flex items-center space-x-3">
                                    <span class="text-4xl drop-shadow-lg">${day.emotion.emoji}</span>
                                    <div>
                                        <p class="text-white text-base font-bold">${day.dayName}</p>
                                        <p class="text-[#9ca3af] text-sm font-medium">${day.dateStr}</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-[#06b6d4] text-lg font-bold">${day.energyLevel}</p>
                                    <p class="text-[#9ca3af] text-sm font-medium">${day.emotion.name}</p>
                                </div>
                            </div>
                        `;
                    }
                });
                historyDisplay.innerHTML = html;
                console.log('HTML set successfully. historyDisplay:', historyDisplay);
            } else {
                historyDisplay.innerHTML = '<p class="text-gray-500 text-center">No energy logs yet this week</p>';
            }
        }

        // Page switching functions
        function showDashboardPage() {
            // Hide all pages
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.remove('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Update sidebar active states
            updateSidebarActive('dashboard');
        }

        function showJournalPage() {
            // Hide all pages
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.add('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.remove('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Trigger entrance animations for Journal page
            setTimeout(() => {
                const rightColumn = document.querySelector('#journal-page .journal-right-column');
                if (rightColumn) {
                    rightColumn.classList.add('animated');
                }
            }, 100);

            // Update sidebar active states
            updateSidebarActive('journal');
        }

        function showTasksPage() {
            // Hide all pages
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.add('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.remove('hidden');

            // Disable TasksManager temporarily to fix unresponsiveness
            console.log('Tasks page loaded (basic mode)');

            // Update sidebar active states
            updateSidebarActive('tasks');
        }

        function showCalendarPage() {
            // Hide all pages
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.add('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Show a simple calendar placeholder
            console.log('Calendar page loaded');

            // You can add calendar page content here
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = `
                    <div class="p-8">
                        <h1 class="text-3xl font-bold text-white mb-6">Calendar üìÖ</h1>
                        <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                            <p class="text-slate-300">Calendar functionality coming soon...</p>
                            <div class="mt-4 grid grid-cols-7 gap-2 text-center">
                                <div class="text-slate-400 text-sm">Sun</div>
                                <div class="text-slate-400 text-sm">Mon</div>
                                <div class="text-slate-400 text-sm">Tue</div>
                                <div class="text-slate-400 text-sm">Wed</div>
                                <div class="text-slate-400 text-sm">Thu</div>
                                <div class="text-slate-400 text-sm">Fri</div>
                                <div class="text-slate-400 text-sm">Sat</div>
                                <!-- Calendar days would go here -->
                            </div>
                        </div>
                    </div>
                `;
            }

            // Update sidebar active states
            updateSidebarActive('calendar');
        }

        function showEmailPage() {
            // Hide all pages except dashboard
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.remove('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Clear any injected content
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = '';
            }

            console.log('Email page loaded - showing Dashboard content');

            // Update sidebar active states
            updateSidebarActive('email');
        }

        function showSettingsPage() {
            // Hide all pages except dashboard
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.remove('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Clear any injected content
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = '';
            }

            console.log('Settings page loaded - showing Dashboard content');

            // Update sidebar active states
            updateSidebarActive('settings');
        }

        function showContactsPage() {
            // Hide all pages except dashboard
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.remove('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Clear any injected content
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = '';
            }

            console.log('Contacts page loaded - showing Dashboard content');

            // Update sidebar active states
            updateSidebarActive('contacts');
        }

        function showClaudePage() {
            // Hide all pages except dashboard
            const dashboardPage = document.getElementById('dashboard-page');
            if (dashboardPage) dashboardPage.classList.remove('hidden');

            const journalPage = document.getElementById('journal-page');
            if (journalPage) journalPage.classList.add('hidden');

            const tasksPage = document.getElementById('tasks-page');
            if (tasksPage) tasksPage.classList.add('hidden');

            // Clear any injected content
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = '';
            }

            console.log('Claude page loaded - showing Dashboard content');

            // Update sidebar active states
            updateSidebarActive('claude');
        }

        function updateSidebarActive(activePage) {
            // Remove active class from all sidebar items
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            sidebarItems.forEach(item => {
                if (item) {
                    item.classList.remove('active', 'text-white');
                    item.classList.add('text-[#9ca3af]');

                    // Update SVG colors
                    const svg = item.querySelector('svg');
                    if (svg) {
                        svg.classList.remove('text-[#06b6d4]');
                        svg.classList.add('text-[#9ca3af]');
                    }
                }
            });

            // Add active class to the correct sidebar item
            if (activePage === 'dashboard' && sidebarItems[0]) {
                const dashboardItem = sidebarItems[0]; // First item is Dashboard
                dashboardItem.classList.add('active', 'text-white');
                dashboardItem.classList.remove('text-[#9ca3af]');

                const dashboardSvg = dashboardItem.querySelector('svg');
                if (dashboardSvg) {
                    dashboardSvg.classList.add('text-[#06b6d4]');
                    dashboardSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'journal' && sidebarItems[1]) {
                const journalItem = sidebarItems[1]; // Second item is Journal
                journalItem.classList.add('active', 'text-white');
                journalItem.classList.remove('text-[#9ca3af]');

                const journalSvg = journalItem.querySelector('svg');
                if (journalSvg) {
                    journalSvg.classList.add('text-[#06b6d4]');
                    journalSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'tasks' && sidebarItems[2]) {
                const tasksItem = sidebarItems[2]; // Third item is Tasks
                tasksItem.classList.add('active', 'text-white');
                tasksItem.classList.remove('text-[#9ca3af]');

                const tasksSvg = tasksItem.querySelector('svg');
                if (tasksSvg) {
                    tasksSvg.classList.add('text-[#06b6d4]');
                    tasksSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'calendar' && sidebarItems[3]) {
                const calendarItem = sidebarItems[3]; // Fourth item is Calendar
                calendarItem.classList.add('active', 'text-white');
                calendarItem.classList.remove('text-[#9ca3af]');

                const calendarSvg = calendarItem.querySelector('svg');
                if (calendarSvg) {
                    calendarSvg.classList.add('text-[#06b6d4]');
                    calendarSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'email' && sidebarItems[4]) {
                const emailItem = sidebarItems[4]; // Fifth item is Email
                emailItem.classList.add('active', 'text-white');
                emailItem.classList.remove('text-[#9ca3af]');

                const emailSvg = emailItem.querySelector('svg');
                if (emailSvg) {
                    emailSvg.classList.add('text-[#06b6d4]');
                    emailSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'contacts' && sidebarItems[5]) {
                const contactsItem = sidebarItems[5]; // Sixth item is Contacts
                contactsItem.classList.add('active', 'text-white');
                contactsItem.classList.remove('text-[#9ca3af]');

                const contactsSvg = contactsItem.querySelector('svg');
                if (contactsSvg) {
                    contactsSvg.classList.add('text-[#06b6d4]');
                    contactsSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'claude' && sidebarItems[6]) {
                const claudeItem = sidebarItems[6]; // Seventh item is Claude
                claudeItem.classList.add('active', 'text-white');
                claudeItem.classList.remove('text-[#9ca3af]');

                const claudeSvg = claudeItem.querySelector('svg');
                if (claudeSvg) {
                    claudeSvg.classList.add('text-[#06b6d4]');
                    claudeSvg.classList.remove('text-[#9ca3af]');
                }
            } else if (activePage === 'settings' && sidebarItems[7]) {
                const settingsItem = sidebarItems[7]; // Eighth item is Settings (now at bottom)
                settingsItem.classList.add('active', 'text-white');
                settingsItem.classList.remove('text-[#9ca3af]');

                const settingsSvg = settingsItem.querySelector('svg');
                if (settingsSvg) {
                    settingsSvg.classList.add('text-[#06b6d4]');
                    settingsSvg.classList.remove('text-[#9ca3af]');
                }
            }
        }

        // Enhanced event handling for energy buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Convert all dropdown energy buttons to proper event listeners
            for (let dayIndex = 0; dayIndex < 7; dayIndex++) {
                const dropdown = document.getElementById(`dropdown-${dayIndex}`);
                if (dropdown) {
                    const energyButtons = dropdown.querySelectorAll('button[onclick*="selectEnergyForDay"]');

                    energyButtons.forEach(btn => {
                        // Remove onclick attribute
                        btn.removeAttribute('onclick');

                        // Extract energy level from the original onclick
                        const originalOnclick = btn.getAttribute('data-original-onclick') || btn.getAttribute('onclick');
                        let energyLevel = null;

                        // Parse energy level from button text or style
                        const buttonText = btn.textContent.trim();
                        if (buttonText.includes('Enlightenment')) energyLevel = 700;
                        else if (buttonText.includes('Peace')) energyLevel = 600;
                        else if (buttonText.includes('Joy')) energyLevel = 540;
                        else if (buttonText.includes('Love')) energyLevel = 500;
                        else if (buttonText.includes('Reason')) energyLevel = 400;
                        else if (buttonText.includes('Acceptance')) energyLevel = 350;
                        else if (buttonText.includes('Willingness')) energyLevel = 310;
                        else if (buttonText.includes('Neutrality')) energyLevel = 250;
                        else if (buttonText.includes('Courage')) energyLevel = 200;
                        else if (buttonText.includes('Pride')) energyLevel = 175;
                        else if (buttonText.includes('Anger')) energyLevel = 150;
                        else if (buttonText.includes('Desire')) energyLevel = 125;
                        else if (buttonText.includes('Fear')) energyLevel = 100;
                        else if (buttonText.includes('Grief')) energyLevel = 75;
                        else if (buttonText.includes('Apathy')) energyLevel = 50;
                        else if (buttonText.includes('Guilt')) energyLevel = 30;
                        else if (buttonText.includes('Shame')) energyLevel = 20;

                        if (energyLevel) {
                            btn.addEventListener('click', function(e) {
                                e.preventDefault();
                                e.stopPropagation();
                                selectEnergyForDay(dayIndex, energyLevel, e);
                            });
                        }
                    });
                }
            }

            // No automatic data loading - all days start as 'Not Set'
            // Users must manually input each day's energy by clicking + button and selecting

            // Clear old energy history data and start fresh
            localStorage.removeItem('energyHistory');

            // Load Energy History on page load
            updateEnergyHistory();
        });
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        /* EXACT Color System from Specifications */
        :root {
            /* PRIMARY COLORS - Navigation, buttons, active states */
            --primary-indigo-600: #4f46e5;
            --primary-indigo-500: #6366f1;
            --primary-indigo-400: #818cf8;
            --primary-indigo-300: #a5b4fc;

            /* ACCENT COLORS */
            --accent-amber-500: #f59e0b;
            --accent-amber-400: #fbbf24;
            --accent-amber-300: #fcd34d;
            --accent-emerald-400: #34d399;
            --accent-emerald-300: #6ee7b7;
            --accent-purple-500: #a855f7;
            --accent-purple-400: #c084fc;

            /* BACKGROUNDS */
            --bg-main: linear-gradient(to bottom right, #020617, #0f172a, #020617);
            --bg-sidebar: rgba(15, 23, 42, 0.6);
            --bg-cards: rgba(30, 41, 59, 0.4);
            --bg-nested: rgba(15, 23, 42, 0.5);

            /* BORDERS & TEXT */
            --border-slate-700-50: rgba(51, 65, 85, 0.5);
            --border-slate-600-70: rgba(71, 85, 105, 0.7);
            --border-slate-800-80: rgba(30, 41, 59, 0.8);
            --text-primary: #ffffff;
            --text-slate-300: #cbd5e1;
            --text-slate-400: #94a3b8;
            --text-slate-500: #64748b;

            /* GLASS EFFECTS */
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-bg-hover: rgba(255, 255, 255, 0.08);
            --shadow-indigo: rgba(99, 102, 241, 0.3);
            --shadow-indigo-dark: rgba(99, 102, 241, 0.4);

            /* GRADIENTS */
            --gradient-indigo-purple: linear-gradient(135deg, #6366f1, #a855f7);
            --gradient-amber-orange: linear-gradient(to right, #f59e0b, #f97316);

            /* ANIMATIONS */
            --blur-sm: 8px;
            --blur-md: 12px;
            --blur-lg: 16px;
            --blur-xl: 20px;
            --transition-fast: 0.15s;
            --transition-base: 0.2s;
            --transition-slow: 0.3s;
            --transition-all: "all 0.2s cubic-bezier(0.4, 0, 0.2, 1)";
            --border-radius-sm: 0.5rem;
            --border-radius-md: 0.75rem;
            --border-radius-lg: 1rem;
            --border-radius-xl: 1.5rem;
        }

        * {
            font-family: 'Inter', sans-serif;
        }

        /* Consistent Text Gradient Class */
        .text-gradient-primary {
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(--shadow-cyan));
        }

        /* Consistent Glass Effect Class */
        .glass-morphism {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--blur-lg));
            -webkit-backdrop-filter: blur(var(--blur-lg));
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-slow) cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Liquid glass hover effect */
        .liquid-hover {
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .liquid-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px -10px rgba(99, 102, 241, 0.3);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
        }

        .liquid-hover:active {
            transform: scale(0.98) translateY(0px);
        }

        .glass-morphism:hover {
            background: var(--glass-bg-hover);
            border-color: var(--border-hover);
            box-shadow:
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 40px var(--shadow-cyan-light);
        }

        /* Enhanced Premium Sidebar Navigation */
        .sidebar-item {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 0.75rem;
            margin: 0.25rem 0;
            pointer-events: auto !important; /* Ensure sidebar items are clickable */
            z-index: 1000 !important; /* High z-index for sidebar items */
        }

        .sidebar-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 3px;
            height: 100%;
            background: linear-gradient(180deg, #06b6d4, #3b82f6);
            transform: translateX(-100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.5);
        }

        .sidebar-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg,
                rgba(6, 182, 212, 0.05) 0%,
                rgba(59, 130, 246, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .sidebar-item:hover {
            transform: translateX(4px) scale(1.02);
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-color: rgba(6, 182, 212, 0.3);
            box-shadow:
                0 8px 32px rgba(6, 182, 212, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 20px rgba(6, 182, 212, 0.1);
        }

        .sidebar-item:hover::before {
            transform: translateX(0);
            box-shadow: 0 0 25px rgba(6, 182, 212, 0.7);
        }

        .sidebar-item:hover::after {
            opacity: 1;
        }

        .sidebar-item.active {
            background: linear-gradient(135deg,
                rgba(6, 182, 212, 0.15) 0%,
                rgba(59, 130, 246, 0.15) 100%);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-color: rgba(6, 182, 212, 0.4);
            box-shadow:
                0 8px 32px rgba(6, 182, 212, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                0 0 30px rgba(6, 182, 212, 0.2);
            transform: translateX(4px) scale(1.02);
        }

        .sidebar-item.active::before {
            transform: translateX(0);
            background: linear-gradient(180deg, #06b6d4, #3b82f6);
            box-shadow: 0 0 30px rgba(6, 182, 212, 0.8);
        }

        .sidebar-item.active::after {
            opacity: 1;
        }

        .feature-card {
            transition: all 0.4s ease;
            border: 1px solid transparent;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            border-color: rgba(99, 102, 241, 0.2);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Premium Glass-Morphism Card System */
        .calm-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            box-shadow:
                0 20px 25px -5px rgba(0, 0, 0, 0.1),
                0 10px 10px -5px rgba(0, 0, 0, 0.04),
                0 0 0 1px rgba(255, 255, 255, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            transform: perspective(1000px) rotateX(0deg);
        }

        .calm-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .calm-card:hover::before {
            opacity: 1;
        }

        .calm-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(99, 102, 241, 0.3);
            border-color: rgba(6, 182, 212, 0.3);
            transform: translateY(-8px) scale(1.02);
            box-shadow:
                0 32px 64px -12px rgba(0, 0, 0, 0.25),
                0 20px 25px -5px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.1),
                0 0 40px rgba(6, 182, 212, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* Premium Glass-Morphism Icon Buttons */
        .icon-button {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
            box-shadow:
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .icon-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1) 0%,
                transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .icon-button:hover::before {
            opacity: 1;
        }

        .icon-button:hover {
            background: rgba(99, 102, 241, 0.1);
            background: rgba(6, 182, 212, 0.1);
            border-color: rgba(99, 102, 241, 0.3);
            border-color: rgba(6, 182, 212, 0.3);
            transform: scale(1.05) translateY(-2px);
            box-shadow:
                0 10px 15px -3px rgba(0, 0, 0, 0.1),
                0 4px 6px -2px rgba(0, 0, 0, 0.05),
                0 0 20px rgba(6, 182, 212, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* Enhanced Day Buttons */
        .day-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(6, 182, 212, 0.3) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: all 0.5s ease;
            border-radius: 50%;
        }

        .day-btn:hover::after {
            width: 100%;
            height: 100%;
            opacity: 0.6;
        }

        /* Soft colors */
        .text-soft-primary {
            color: #818cf8;
        }

        .bg-soft-primary {
            background: rgba(129, 140, 248, 0.1);
        }

        .border-soft {
            border-color: rgba(129, 140, 248, 0.1);
        }

        /* 3D AI ROBOT AVATAR - Advanced Glowing Design */
        .ai-robot-container {
            position: relative;
            width: 100%;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1500px;
            overflow: hidden;
        }

        .ai-robot {
            position: relative;
            width: 320px;
            height: 400px;
            animation: robotFloat 6s ease-in-out infinite, robotRotate3D 20s linear infinite;
            transform-style: preserve-3d;
            z-index: 10;
            transform: rotateX(5deg) rotateY(15deg);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .ai-robot:hover {
            transform: rotateX(0deg) rotateY(25deg) translateZ(20px);
        }

        /* Robot Head - Enhanced 3D Style */
        .robot-head-3d {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%) rotateX(10deg) rotateY(0deg) translateZ(30px);
            width: 200px;
            height: 200px;
            background: linear-gradient(145deg, #1a1f2e 0%, #2d3748 50%, #1a202c 100%);
            border-radius: 50%;
            box-shadow:
                0 35px 70px rgba(0, 0, 0, 0.4),
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 10px 25px rgba(0, 212, 255, 0.2),
                inset 0 6px 15px rgba(255, 255, 255, 0.15),
                inset 0 -6px 15px rgba(0, 0, 0, 0.5);
            z-index: 15;
            overflow: hidden;
            border: 3px solid #00d4ff;
            transform-style: preserve-3d;
            animation: headRotate3D 8s ease-in-out infinite;
            transition: transform 0.4s ease;
        }

        .robot-head-3d:hover {
            transform: translateX(-50%) rotateX(15deg) rotateY(10deg) translateZ(40px);
        }

        .head-glow {
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: headGlow 4s ease-in-out infinite;
            z-index: -1;
        }

        .screen-face-3d {
            position: absolute;
            top: 12px;
            left: 12px;
            right: 12px;
            bottom: 12px;
            background: linear-gradient(145deg, #0f1419 0%, #1a202c 50%, #0f1419 100%);
            border-radius: 50%;
            box-shadow:
                inset 0 8px 20px rgba(0, 0, 0, 0.8),
                inset 0 -4px 12px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            overflow: hidden;
        }

        .screen-glow {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.1) 0%, transparent 60%);
            animation: screenGlow 3s ease-in-out infinite;
        }

      
    
        /* Status Light */
        .status-light {
            position: absolute;
            bottom: 15px;
            right: 15px;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #00ff88 0%, #00d4ff 100%);
            border-radius: 50%;
            box-shadow:
                0 0 15px rgba(0, 255, 136, 0.8),
                0 0 30px rgba(0, 212, 255, 0.6);
            animation: statusLight 2s ease-in-out infinite;
        }

        /* Robot Body - 3D Tech Style */
        .robot-body-3d {
            position: absolute;
            top: 220px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 140px;
            background: linear-gradient(145deg, #2d3748 0%, #1a202c 50%, #0f1419 100%);
            border-radius: 20px;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 10px 20px rgba(0, 0, 0, 0.2),
                inset 0 4px 10px rgba(255, 255, 255, 0.05),
                inset 0 -4px 10px rgba(0, 0, 0, 0.4);
            z-index: 12;
            border: 2px solid #00d4ff;
        }

        .body-glow {
            position: absolute;
            top: -15px;
            left: -15px;
            right: -15px;
            bottom: -15px;
            background: radial-gradient(ellipse, rgba(0, 212, 255, 0.2) 0%, transparent 70%);
            animation: bodyGlow 4s ease-in-out infinite;
            z-index: -1;
        }

        .tech-panel {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 60px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            padding: 10px 0;
        }

        .tech-light {
            width: 8px;
            height: 8px;
            background: #00d4ff;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.8);
            animation: techLightPulse 2s ease-in-out infinite;
        }

        .tech-light.light-2 {
            animation-delay: 0.5s;
        }

        .tech-light.light-3 {
            animation-delay: 1s;
        }

        .core-indicator {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 8px;
            background: linear-gradient(90deg, #00d4ff 0%, #00ff88 50%, #00d4ff 100%);
            border-radius: 4px;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
            animation: coreIndicator 3s ease-in-out infinite;
        }

        /* Robot Arms - 3D Style */
        .robot-arm-3d {
            position: absolute;
            top: 240px;
            width: 25px;
            height: 100px;
            z-index: 11;
        }

        .robot-arm-3d.left {
            left: 40px;
            transform: rotate(-15deg);
        }

        .robot-arm-3d.right {
            right: 40px;
            transform: rotate(15deg);
        }

        .arm-joint {
            width: 25px;
            height: 25px;
            background: linear-gradient(145deg, #4a5568 0%, #2d3748 50%, #1a202c 100%);
            border-radius: 50%;
            box-shadow:
                0 5px 15px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.1);
            position: relative;
            border: 2px solid #00d4ff;
        }

        .joint-glow {
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, transparent 70%);
            border-radius: 50%;
            animation: jointGlow 2.5s ease-in-out infinite;
        }

        .arm-segment {
            width: 18px;
            height: 60px;
            background: linear-gradient(145deg, #4a5568 0%, #2d3748 50%, #1a202c 100%);
            margin: 5px auto 0;
            border-radius: 9px;
            box-shadow:
                0 5px 15px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .robot-hand-3d {
            width: 30px;
            height: 30px;
            background: linear-gradient(145deg, #4a5568 0%, #2d3748 50%, #1a202c 100%);
            border-radius: 50%;
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow:
                0 8px 20px rgba(0, 0, 0, 0.3),
                inset 0 3px 6px rgba(255, 255, 255, 0.05);
            border: 2px solid #00d4ff;
        }

        .robot-hand-3d.left {
            left: 0px;
        }

        .robot-hand-3d.right {
            right: 0px;
            left: auto;
        }

        .hand-glow {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: handGlow 3s ease-in-out infinite;
        }

        /* Robot Antenna */
        .robot-antenna {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 30px;
            background: linear-gradient(to top, #4a5568, #00d4ff);
            border-radius: 2px;
            z-index: 16;
        }

        .antenna-glow {
            position: absolute;
            top: -5px;
            left: -8px;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.6) 0%, transparent 70%);
            border-radius: 50%;
            animation: antennaGlow 2s ease-in-out infinite;
        }

        .antenna-tip {
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #00ffff 0%, #00d4ff 100%);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(0, 212, 255, 1);
            animation: antennaTip 1.5s ease-in-out infinite;
        }

        /* Particle Effects */
        .particle-field {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 5;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00d4ff;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.8);
        }

        .particle-1 {
            top: 20%;
            left: 10%;
            animation: particleFloat1 8s ease-in-out infinite;
        }

        .particle-2 {
            top: 30%;
            right: 15%;
            animation: particleFloat2 10s ease-in-out infinite;
        }

        .particle-3 {
            bottom: 25%;
            left: 20%;
            animation: particleFloat3 9s ease-in-out infinite;
        }

        .particle-4 {
            bottom: 35%;
            right: 10%;
            animation: particleFloat4 11s ease-in-out infinite;
        }

        .particle-5 {
            top: 50%;
            left: 5%;
            animation: particleFloat5 7s ease-in-out infinite;
        }

        .particle-6 {
            top: 60%;
            right: 25%;
            animation: particleFloat6 12s ease-in-out infinite;
        }

        .particle-7 {
            bottom: 20%;
            left: 50%;
            animation: particleFloat7 8.5s ease-in-out infinite;
        }

        .particle-8 {
            top: 25%;
            right: 5%;
            animation: particleFloat8 9.5s ease-in-out infinite;
        }

        /* Energy Lines */
        .energy-lines {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 4;
        }

        .energy-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.6), transparent);
            height: 2px;
            border-radius: 2px;
            animation: energyFlow 4s ease-in-out infinite;
        }

        .line-1 {
            top: 30%;
            left: -20%;
            width: 40%;
            animation-delay: 0s;
        }

        .line-2 {
            top: 50%;
            right: -20%;
            width: 40%;
            animation-delay: 1s;
        }

        .line-3 {
            bottom: 35%;
            left: -15%;
            width: 35%;
            animation-delay: 2s;
        }

        .line-4 {
            top: 40%;
            right: -15%;
            width: 35%;
            animation-delay: 3s;
        }

        /* Welcome Message */
        .robot-welcome {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            opacity: 0;
            animation: welcomeFade 2s ease-in-out 1s forwards;
            z-index: 20;
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .ai-robot-container {
                height: 350px;
                margin-bottom: 2rem;
            }
            .ai-robot {
                width: 240px;
                height: 300px;
            }
            .robot-head-3d {
                width: 150px;
                height: 150px;
                top: 30px;
            }
            .robot-body-3d {
                width: 90px;
                height: 105px;
                top: 165px;
            }
            .robot-arm-3d {
                height: 75px;
                top: 180px;
            }
            .particle-field,
            .energy-lines {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .ai-robot-container {
                height: 280px;
            }
            .ai-robot {
                width: 200px;
                height: 250px;
            }
            .robot-head-3d {
                width: 120px;
                height: 120px;
                top: 25px;
            }
            .robot-body-3d {
                width: 70px;
                height: 85px;
                top: 135px;
            }
            .robot-welcome {
                display: none;
            }
        }

        @media (max-width: 640px) {
            .ai-robot-container {
                display: none;
            }
        }

        /* Robot Head - Dark Gray Like Reference */
        .robot-head {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 180px;
            background: linear-gradient(145deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            border-radius: 50%;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.15),
                0 10px 20px rgba(0, 0, 0, 0.1),
                inset 0 4px 8px rgba(255, 255, 255, 0.1),
                inset 0 -4px 8px rgba(0, 0, 0, 0.3);
            z-index: 10;
            overflow: hidden;
            border: 4px solid #9ca3af;
        }

        /* Face Area - Lighter Gray */
        .screen-face {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background: linear-gradient(145deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%);
            border-radius: 50%;
            box-shadow:
                inset 0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 -3px 8px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 18px;
        }

        /* Simple Eyes - Like Reference */
        .robot-eyes {
            display: flex;
            gap: 28px;
            position: relative;
        }

        .robot-eye {
            width: 18px;
            height: 18px;
            background: radial-gradient(circle at 30% 30%, #00d4ff 0%, #06b6d4 50%, #0891b2 100%);
            border-radius: 50%;
            position: relative;
            box-shadow:
                0 0 15px rgba(0, 212, 255, 0.6),
                0 0 25px rgba(0, 212, 255, 0.3),
                inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Simple Eye Reflections */
        .robot-eye::before {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            top: 3px;
            left: 4px;
        }

        /* Beautiful Smile */
        .robot-mouth {
            width: 45px;
            height: 22px;
            background: transparent;
            border: 3px solid #1f2937;
            border-top: none;
            border-radius: 0 0 22px 22px;
            box-shadow:
                0 0 10px rgba(31, 41, 55, 0.3),
                inset 0 2px 4px rgba(31, 41, 55, 0.2);
            position: relative;
            top: 0px;
        }

        /* Clean Body - Smaller Like Reference */
        .robot-body {
            position: absolute;
            top: 180px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 90px;
            background: linear-gradient(145deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            border-radius: 12px;
            box-shadow:
                0 12px 25px rgba(0, 0, 0, 0.12),
                0 6px 12px rgba(0, 0, 0, 0.08),
                inset 0 3px 6px rgba(255, 255, 255, 0.1),
                inset 0 -3px 6px rgba(0, 0, 0, 0.3);
            z-index: 8;
        }

        /* Simple Body Detail */
        .robot-body::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 2px;
            background: #1f2937;
            border-radius: 2px;
            box-shadow: 0 0 4px rgba(31, 41, 55, 0.4);
        }

        /* Simple Arms */
        .robot-arm {
            position: absolute;
            width: 14px;
            height: 70px;
            background: linear-gradient(145deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            border-radius: 7px;
            box-shadow:
                0 5px 10px rgba(0, 0, 0, 0.1),
                0 2px 5px rgba(0, 0, 0, 0.08),
                inset 0 2px 4px rgba(255, 255, 255, 0.1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.3);
            top: 190px;
        }

        .robot-arm.left {
            left: 55px;
            transform: rotate(-8deg);
        }

        .robot-arm.right {
            right: 55px;
            transform: rotate(8deg);
        }

        /* Simple Joints */
        .joint {
            position: absolute;
            width: 16px;
            height: 16px;
            background: linear-gradient(145deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            border-radius: 50%;
            box-shadow:
                0 4px 8px rgba(0, 0, 0, 0.1),
                0 2px 4px rgba(0, 0, 0, 0.08),
                inset 0 1px 3px rgba(255, 255, 255, 0.1),
                inset 0 -1px 3px rgba(0, 0, 0, 0.3);
            top: 182px;
        }

        .joint.left {
            left: 56px;
        }

        .joint.right {
            right: 56px;
        }

        /* Simple Hands */
        .robot-hand {
            position: absolute;
            width: 24px;
            height: 24px;
            background: linear-gradient(145deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            border-radius: 50%;
            box-shadow:
                0 6px 12px rgba(0, 0, 0, 0.12),
                0 3px 6px rgba(0, 0, 0, 0.08),
                inset 0 2px 4px rgba(255, 255, 255, 0.1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.3);
            top: 255px;
        }

        .robot-hand.left {
            left: 50px;
        }

        .robot-hand.right {
            right: 50px;
        }

        /* Beautiful Robot Emotions - Different Facial Expressions */
        .robot-emotion-happy .robot-eye {
            width: 48px;
            height: 48px;
            background: radial-gradient(circle at 30% 30%, #66bb6a 0%, #4caf50 30%, #2e7d32 60%, #1b5e20 100%);
            box-shadow:
                0 0 25px rgba(76, 175, 80, 0.8),
                0 0 40px rgba(76, 175, 80, 0.5),
                inset 0 3px 8px rgba(255, 255, 255, 0.5),
                inset -2px -2px 6px rgba(0, 0, 0, 0.3);
            animation: eyeHappy 3s ease-in-out infinite;
        }

        .robot-emotion-happy .robot-eye::before {
            width: 16px;
            height: 16px;
            top: 7px;
            left: 12px;
            background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.6) 60%, transparent 100%);
        }

        .robot-emotion-happy .robot-eye::after {
            width: 7px;
            height: 7px;
            top: 13px;
            left: 18px;
            background: rgba(255, 255, 255, 0.9);
        }

        .robot-emotion-happy .robot-mouth {
            width: 48px;
            height: 24px;
            border: 3px solid #66bb6a;
            border-radius: 0 0 24px 24px;
            background: linear-gradient(to bottom, rgba(102, 187, 106, 0.3), rgba(76, 175, 80, 0.1));
            box-shadow:
                0 0 20px rgba(102, 187, 106, 0.6),
                inset 0 3px 8px rgba(102, 187, 106, 0.3);
            animation: mouthHappy 3s ease-in-out infinite;
        }

        .robot-emotion-happy .status-indicator {
            background: radial-gradient(circle, #66bb6a 0%, #4caf50 100%);
            box-shadow: 0 0 15px rgba(102, 187, 106, 0.8);
            animation: statusBounce 2s ease-in-out infinite;
        }

        /* Excited Emotion */
        .robot-emotion-excited .robot-eye {
            width: 50px;
            height: 50px;
            background: radial-gradient(circle at 30% 30%, #ffb74d 0%, #ff9800 30%, #f57c00 60%, #e65100 100%);
            box-shadow:
                0 0 30px rgba(255, 152, 0, 1),
                0 0 50px rgba(255, 152, 0, 0.7),
                inset 0 3px 8px rgba(255, 255, 255, 0.6),
                inset -2px -2px 6px rgba(0, 0, 0, 0.3);
            animation: eyeExcited 1s ease-in-out infinite;
        }

        .robot-emotion-excited .robot-eye::before {
            width: 18px;
            height: 18px;
            top: 6px;
            left: 13px;
            background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.7) 60%, transparent 100%);
            animation: eyeSparkle 1.5s ease-in-out infinite;
        }

        .robot-emotion-excited .robot-eye::after {
            width: 8px;
            height: 8px;
            top: 14px;
            left: 19px;
            background: rgba(255, 255, 255, 1);
        }

        .robot-emotion-excited .robot-mouth {
            width: 55px;
            height: 28px;
            border: 4px solid #ffb74d;
            border-radius: 0 0 28px 28px;
            background: linear-gradient(to bottom, rgba(255, 183, 77, 0.4), rgba(255, 152, 0, 0.2));
            box-shadow:
                0 0 25px rgba(255, 183, 77, 0.8),
                inset 0 4px 10px rgba(255, 183, 77, 0.4);
            animation: mouthExcited 1s ease-in-out infinite;
        }

        .robot-emotion-excited .status-indicator {
            background: radial-gradient(circle, #ffb74d 0%, #ff9800 100%);
            box-shadow: 0 0 20px rgba(255, 183, 77, 1);
            animation: statusBounce 0.8s ease-in-out infinite;
        }

        /* Curious Emotion */
        .robot-emotion-curious .robot-eye {
            width: 40px;
            height: 45px;
            background: radial-gradient(circle at 30% 30%, #ba68c8 0%, #9c27b0 30%, #7b1fa2 60%, #4a148c 100%);
            box-shadow:
                0 0 20px rgba(156, 39, 176, 0.7),
                0 0 35px rgba(156, 39, 176, 0.4),
                inset 0 2px 6px rgba(255, 255, 255, 0.5),
                inset -2px -2px 5px rgba(0, 0, 0, 0.3);
            animation: eyeCurious 4s ease-in-out infinite;
            border-radius: 45% 55% 50% 50%;
        }

        .robot-emotion-curious .robot-eye::before {
            width: 12px;
            height: 15px;
            top: 5px;
            left: 9px;
            border-radius: 50%;
            animation: eyeLook 4s ease-in-out infinite;
        }

        .robot-emotion-curious .robot-eye::after {
            width: 5px;
            height: 5px;
            top: 12px;
            left: 15px;
        }

        .robot-emotion-curious .robot-mouth {
            width: 25px;
            height: 25px;
            border: 2px solid #ba68c8;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(186, 104, 200, 0.3), rgba(156, 39, 176, 0.1));
            box-shadow:
                0 0 15px rgba(186, 104, 200, 0.5),
                inset 0 2px 6px rgba(186, 104, 200, 0.3);
            animation: mouthCurious 4s ease-in-out infinite;
        }

        .robot-emotion-curious .status-indicator {
            background: radial-gradient(circle, #ba68c8 0%, #9c27b0 100%);
            box-shadow: 0 0 12px rgba(186, 104, 200, 0.7);
            animation: statusPulse 3s ease-in-out infinite;
        }

        /* Thinking Emotion */
        .robot-emotion-thinking .robot-eye {
            width: 38px;
            height: 38px;
            background: radial-gradient(circle at 30% 30%, #64b5f6 0%, #2196f3 30%, #1976d2 60%, #0d47a1 100%);
            box-shadow:
                0 0 18px rgba(33, 150, 243, 0.6),
                0 0 30px rgba(33, 150, 243, 0.3),
                inset 0 2px 6px rgba(255, 255, 255, 0.4),
                inset -2px -2px 5px rgba(0, 0, 0, 0.3);
            animation: eyeThinking 5s ease-in-out infinite;
        }

        .robot-emotion-thinking .robot-eye::before {
            width: 10px;
            height: 10px;
            top: 8px;
            left: 9px;
            animation: eyeLookAround 5s ease-in-out infinite;
        }

        .robot-emotion-thinking .robot-eye::after {
            width: 4px;
            height: 4px;
            top: 13px;
            left: 14px;
        }

        .robot-emotion-thinking .robot-mouth {
            width: 30px;
            height: 12px;
            border: 2px solid #64b5f6;
            border-radius: 15px 15px 20px 20px;
            background: linear-gradient(to bottom, rgba(100, 181, 246, 0.2), rgba(33, 150, 243, 0.1));
            box-shadow:
                0 0 12px rgba(100, 181, 246, 0.4),
                inset 0 2px 5px rgba(100, 181, 246, 0.2);
            animation: mouthThinking 5s ease-in-out infinite;
        }

        .robot-emotion-thinking .status-indicator {
            background: radial-gradient(circle, #64b5f6 0%, #2196f3 100%);
            box-shadow: 0 0 10px rgba(100, 181, 246, 0.6);
            animation: statusPulse 4s ease-in-out infinite;
        }

        /* Sleepy Emotion */
        .robot-emotion-sleepy .robot-eye {
            width: 42px;
            height: 12px;
            background: linear-gradient(to bottom, #78909c, #546e7a);
            border-radius: 42px 42px 0 0;
            box-shadow:
                0 0 10px rgba(120, 144, 156, 0.4),
                inset 0 2px 4px rgba(255, 255, 255, 0.2);
            animation: eyeSleepy 4s ease-in-out infinite;
        }

        .robot-emotion-sleepy .robot-eye::before {
            display: none;
        }

        .robot-emotion-sleepy .robot-eye::after {
            display: none;
        }

        .robot-emotion-sleepy .robot-mouth {
            width: 18px;
            height: 8px;
            border: 1px solid #78909c;
            border-radius: 50%;
            background: rgba(120, 144, 156, 0.2);
            box-shadow:
                0 0 8px rgba(120, 144, 156, 0.3),
                inset 0 1px 3px rgba(120, 144, 156, 0.2);
        }

        .robot-emotion-sleepy .status-indicator {
            background: radial-gradient(circle, #78909c 0%, #546e7a 100%);
            box-shadow: 0 0 8px rgba(120, 144, 156, 0.4);
            animation: statusSleepy 4s ease-in-out infinite;
        }

        .robot-emotion-happy .robot-mouth {
            width: 60px;
            height: 20px;
            border-radius: 0 0 30px 30px;
            background: linear-gradient(to bottom, #00ff88, #00d4ff, #0099cc);
            box-shadow:
                0 0 25px rgba(0, 255, 136, 0.6),
                inset 0 -2px 6px rgba(0, 157, 204, 0.4);
        }

        .robot-emotion-happy .robot-ear {
            animation: earWiggle 2s ease-in-out infinite;
        }

        .robot-emotion-curious .robot-eye {
            width: 60px;
            height: 60px;
            animation: eyeCurious 4s ease-in-out infinite;
        }

        .robot-emotion-curious .robot-eye::before {
            top: 5px;
            right: 15px;
            width: 18px;
            height: 18px;
        }

        .robot-emotion-curious .robot-mouth {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            box-shadow:
                0 0 20px rgba(255, 107, 107, 0.5),
                inset 0 2px 5px rgba(255, 255, 255, 0.3);
        }

        .robot-emotion-curious .robot-ear {
            transform: rotate(-10deg);
        }

        .robot-emotion-curious .robot-ear.right {
            transform: rotate(10deg);
        }

        .robot-emotion-excited .robot-eye {
            animation: eyeExcited 1s ease-in-out infinite;
        }

        .robot-emotion-excited .robot-mouth {
            width: 70px;
            height: 25px;
            border-radius: 0 0 35px 35px;
            background: linear-gradient(to bottom, #ffff00, #ffd93d, #ffb347);
            box-shadow:
                0 0 30px rgba(255, 217, 61, 0.8),
                inset 0 -3px 8px rgba(255, 147, 41, 0.4);
            animation: mouthExcited 1s ease-in-out infinite;
        }

        .robot-emotion-excited .robot-ear {
            animation: earWiggleFast 0.5s ease-in-out infinite;
        }

        .robot-emotion-excited .floating-icon {
            animation: iconFloat 0.5s ease-in-out infinite, iconRotate 1s linear infinite;
        }

        .robot-emotion-thinking .robot-eye {
            animation: eyeThinking 5s ease-in-out infinite;
        }

        .robot-emotion-thinking .robot-eye::before {
            animation: eyeLookAround 5s ease-in-out infinite;
        }

        .robot-emotion-thinking .robot-mouth {
            width: 35px;
            height: 12px;
            border-radius: 10px 10px 15px 15px;
            background: linear-gradient(to bottom, #9b59b6, #8e44ad);
            box-shadow:
                0 0 20px rgba(155, 89, 182, 0.5),
                inset 0 2px 5px rgba(255, 255, 255, 0.2);
        }

        .robot-emotion-thinking .robot-ear {
            transform: rotate(5deg);
        }

        .robot-emotion-thinking .robot-ear.right {
            transform: rotate(-5deg);
        }

        .robot-emotion-sleepy .robot-eye {
            width: 55px;
            height: 15px;
            border-radius: 50% 50% 0 0;
            background: linear-gradient(to bottom, #34495e, #2c3e50);
            animation: eyeSleepy 4s ease-in-out infinite;
        }

        .robot-emotion-sleepy .robot-eye::before {
            display: none;
        }

        .robot-emotion-sleepy .robot-eye::after {
            display: none;
        }

        .robot-emotion-sleepy .robot-mouth {
            width: 20px;
            height: 8px;
            border-radius: 50%;
            background: linear-gradient(to bottom, #95a5a6, #7f8c8d);
            box-shadow:
                0 0 10px rgba(149, 165, 166, 0.3),
                inset 0 1px 3px rgba(255, 255, 255, 0.2);
        }

        .robot-emotion-sleepy .robot-ear {
            transform: rotate(-15deg);
        }

        .robot-emotion-sleepy .robot-ear.right {
            transform: rotate(15deg);
        }

        .robot-emotion-sleepy .floating-icon {
            animation: iconSleepy 3s ease-in-out infinite;
        }

        /* Beautiful Emotion Animation Keyframes */
        @keyframes eyeHappy {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 25px rgba(76, 175, 80, 0.8),
                    0 0 40px rgba(76, 175, 80, 0.5);
            }
            50% {
                transform: scale(1.1);
                box-shadow:
                    0 0 35px rgba(76, 175, 80, 1),
                    0 0 50px rgba(76, 175, 80, 0.7);
            }
        }

        @keyframes mouthHappy {
            0%, 100% {
                transform: scale(1);
                width: 48px;
                height: 24px;
            }
            50% {
                transform: scale(1.05);
                width: 52px;
                height: 26px;
            }
        }

        @keyframes statusBounce {
            0%, 100% { transform: scale(1) translateY(0px); }
            25% { transform: scale(1.1) translateY(-2px); }
            75% { transform: scale(0.95) translateY(1px); }
            50% { transform: scale(1.05) translateY(-1px); }
        }

        @keyframes eyeExcited {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                box-shadow:
                    0 0 30px rgba(255, 152, 0, 1),
                    0 0 50px rgba(255, 152, 0, 0.7);
            }
            25% {
                transform: scale(1.15) rotate(-5deg);
                box-shadow:
                    0 0 40px rgba(255, 152, 0, 1),
                    0 0 60px rgba(255, 152, 0, 0.9);
            }
            75% {
                transform: scale(1.15) rotate(5deg);
                box-shadow:
                    0 0 40px rgba(255, 152, 0, 1),
                    0 0 60px rgba(255, 152, 0, 0.9);
            }
            50% {
                transform: scale(1.2) rotate(0deg);
                box-shadow:
                    0 0 50px rgba(255, 152, 0, 1),
                    0 0 80px rgba(255, 152, 0, 1);
            }
        }

        @keyframes eyeSparkle {
            0%, 100% {
                opacity: 0.8;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        @keyframes mouthExcited {
            0%, 100% {
                transform: scale(1);
                width: 55px;
                height: 28px;
            }
            25% {
                transform: scale(1.1);
                width: 60px;
                height: 30px;
            }
            75% {
                transform: scale(1.05);
                width: 58px;
                height: 29px;
            }
            50% {
                transform: scale(1.15);
                width: 65px;
                height: 32px;
            }
        }

        @keyframes eyeCurious {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                border-radius: 45% 55% 50% 50%;
            }
            25% {
                transform: scale(1.05) rotate(-3deg);
                border-radius: 40% 60% 50% 50%;
            }
            75% {
                transform: scale(1.05) rotate(3deg);
                border-radius: 60% 40% 50% 50%;
            }
            50% {
                transform: scale(1.1) rotate(0deg);
                border-radius: 50% 50% 45% 55%;
            }
        }

        @keyframes eyeLook {
            0%, 100% {
                transform: translate(0px, 0px);
            }
            25% {
                transform: translate(-2px, -1px);
            }
            75% {
                transform: translate(2px, 1px);
            }
            50% {
                transform: translate(0px, -2px);
            }
        }

        @keyframes mouthCurious {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            25% {
                transform: scale(0.95);
                opacity: 0.9;
            }
            75% {
                transform: scale(1.05);
                opacity: 0.9;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        @keyframes eyeThinking {
            0%, 100% {
                transform: translateX(0px);
            }
            25% {
                transform: translateX(-3px);
            }
            75% {
                transform: translateX(3px);
            }
            50% {
                transform: translateX(0px);
            }
        }

        @keyframes eyeLookAround {
            0%, 100% {
                transform: translate(0px, 0px);
            }
            20% {
                transform: translate(-2px, -1px);
            }
            40% {
                transform: translate(2px, -2px);
            }
            60% {
                transform: translate(-1px, 1px);
            }
            80% {
                transform: translate(1px, 2px);
            }
        }

        @keyframes mouthThinking {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(0.95);
                opacity: 0.6;
            }
        }

        @keyframes eyeSleepy {
            0%, 100% {
                height: 12px;
                opacity: 0.8;
            }
            50% {
                height: 6px;
                opacity: 0.6;
            }
        }

        @keyframes statusSleepy {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 0.4;
                transform: scale(0.9);
            }
        }

        @keyframes earWiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        @keyframes earWiggleFast {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-8deg); }
            75% { transform: rotate(8deg); }
        }

        @keyframes eyeCurious {
            0%, 100% {
                transform: scale(1);
                border-radius: 50%;
            }
            25% {
                transform: scale(1.05);
                border-radius: 45% 55% 50% 50%;
            }
            50% {
                transform: scale(1.1);
                border-radius: 50% 50% 45% 55%;
            }
            75% {
                transform: scale(1.05);
                border-radius: 55% 45% 50% 50%;
            }
        }

        @keyframes mouthExcited {
            0%, 100% {
                width: 70px;
                height: 25px;
            }
            50% {
                width: 80px;
                height: 30px;
            }
        }

        @keyframes eyeExcited {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 30px #00d4ff,
                    0 0 50px rgba(0, 212, 255, 0.6),
                    inset 0 2px 10px rgba(255, 255, 255, 0.8);
            }
            50% {
                transform: scale(1.2);
                box-shadow:
                    0 0 50px #00d4ff,
                    0 0 80px rgba(0, 212, 255, 0.9),
                    inset 0 3px 15px rgba(255, 255, 255, 1);
            }
        }

        @keyframes eyeThinking {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        @keyframes eyeLookAround {
            0%, 100% {
                top: 8px;
                right: 12px;
            }
            25% {
                top: 5px;
                right: 8px;
            }
            50% {
                top: 12px;
                right: 15px;
            }
            75% {
                top: 6px;
                right: 10px;
            }
        }

        @keyframes eyeSleepy {
            0%, 100% {
                height: 15px;
                opacity: 0.8;
            }
            50% {
                height: 8px;
                opacity: 0.6;
            }
        }

        @keyframes iconSleepy {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.8;
            }
            50% {
                transform: translateY(-3px) rotate(5deg);
                opacity: 0.6;
            }
        }

    
        /* Enhanced Robot Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow:
                    0 0 30px rgba(0, 255, 255, 0.8),
                    0 0 50px rgba(0, 255, 255, 0.4),
                    inset 0 2px 5px rgba(255, 255, 255, 0.5);
            }
            50% {
                box-shadow:
                    0 0 40px rgba(0, 255, 255, 1),
                    0 0 60px rgba(0, 255, 255, 0.6),
                    inset 0 2px 5px rgba(255, 255, 255, 0.7);
            }
        }

        @keyframes friendlyPulse {
            0%, 100% {
                box-shadow:
                    0 0 25px rgba(74, 240, 255, 0.8),
                    0 0 45px rgba(74, 240, 255, 0.6),
                    0 0 70px rgba(74, 240, 255, 0.4),
                    inset 0 3px 8px rgba(255, 255, 255, 0.7);
            }
            50% {
                box-shadow:
                    0 0 35px rgba(74, 240, 255, 1),
                    0 0 60px rgba(74, 240, 255, 0.8),
                    0 0 90px rgba(74, 240, 255, 0.5),
                    inset 0 4px 10px rgba(255, 255, 255, 0.8);
            }
        }

        @keyframes simplePulse {
            0%, 100% {
                box-shadow:
                    0 4px 12px rgba(74, 144, 226, 0.3),
                    inset 0 2px 4px rgba(255, 255, 255, 0.4);
            }
            50% {
                box-shadow:
                    0 6px 16px rgba(74, 144, 226, 0.5),
                    inset 0 2px 6px rgba(255, 255, 255, 0.5);
            }
        }

        /* Ultimate Robot Animations */
        @keyframes ultimateFloat {
            0%, 100% {
                transform: translateY(0px) rotateY(0deg);
            }
            25% {
                transform: translateY(-15px) rotateY(5deg);
            }
            50% {
                transform: translateY(-8px) rotateY(0deg);
            }
            75% {
                transform: translateY(-15px) rotateY(-5deg);
            }
        }

        @keyframes auraPulse {
            0%, 100% {
                opacity: 0.3;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.6;
                transform: translate(-50%, -50%) scale(1.1);
            }
        }

        @keyframes ultimateEyePulse {
            0%, 100% {
                box-shadow:
                    0 0 40px rgba(0, 255, 255, 1),
                    0 0 80px rgba(0, 255, 255, 0.7),
                    0 0 120px rgba(0, 255, 255, 0.4),
                    inset 0 4px 15px rgba(255, 255, 255, 0.8),
                    inset -4px -4px 12px rgba(0, 0, 0, 0.3);
            }
            50% {
                box-shadow:
                    0 0 60px rgba(0, 255, 255, 1),
                    0 0 100px rgba(0, 255, 255, 0.9),
                    0 0 150px rgba(0, 255, 255, 0.6),
                    inset 0 6px 20px rgba(255, 255, 255, 0.9),
                    inset -6px -6px 15px rgba(0, 0, 0, 0.4);
            }
        }

        @keyframes jointPulse {
            0%, 100% {
                box-shadow:
                    0 0 25px rgba(0, 255, 255, 1),
                    0 0 50px rgba(0, 255, 255, 0.7),
                    0 0 75px rgba(0, 255, 255, 0.4),
                    inset 0 4px 8px rgba(255, 255, 255, 0.6),
                    inset 0 -4px 8px rgba(0, 0, 0, 0.2);
                transform: scale(1);
            }
            50% {
                box-shadow:
                    0 0 35px rgba(0, 255, 255, 1),
                    0 0 70px rgba(0, 255, 255, 0.9),
                    0 0 100px rgba(0, 255, 255, 0.6),
                    inset 0 6px 12px rgba(255, 255, 255, 0.8),
                    inset 0 -6px 12px rgba(0, 0, 0, 0.3);
                transform: scale(1.1);
            }
        }

        @keyframes floatAround {
            0%, 100% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0.8;
            }
            25% {
                transform: translate(15px, -20px) scale(1.2);
                opacity: 1;
            }
            50% {
                transform: translate(-10px, -30px) scale(0.9);
                opacity: 0.9;
            }
            75% {
                transform: translate(20px, -10px) scale(1.1);
                opacity: 0.7;
            }
        }

        @keyframes float-icon {
            0% {
                transform: rotate(45deg) translateX(0px);
                opacity: 0.8;
            }
            100% {
                transform: rotate(45deg) translateX(10px);
                opacity: 1;
            }
        }

        @keyframes bottomGlow {
            0% {
                opacity: 0.6;
                box-shadow: 0 0 15px rgba(93, 216, 255, 0.8), 0 0 25px rgba(93, 216, 255, 0.5), inset 0 2px 3px rgba(255, 255, 255, 0.5);
            }
            100% {
                opacity: 1;
                box-shadow: 0 0 20px rgba(93, 216, 255, 1), 0 0 35px rgba(93, 216, 255, 0.7), inset 0 2px 3px rgba(255, 255, 255, 0.6);
            }
        }

        @keyframes eyePulse {
            0%, 100% {
                box-shadow:
                    0 0 30px #00d4ff,
                    0 0 50px rgba(0, 212, 255, 0.6),
                    inset 0 2px 10px rgba(255, 255, 255, 0.8);
            }
            50% {
                box-shadow:
                    0 0 40px #00d4ff,
                    0 0 70px rgba(0, 212, 255, 0.8),
                    inset 0 3px 12px rgba(255, 255, 255, 0.9);
            }
        }

        @keyframes eyeShine {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                opacity: 1;
                transform: scale(1.1);
            }
        }

        @keyframes bodyGlow {
            0%, 100% {
                opacity: 0.6;
                transform: translate(-50%, -50%) scaleX(1);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scaleX(1.1);
            }
        }

        @keyframes iconFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        @keyframes iconRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 3D ROBOT ANIMATIONS - Advanced Glowing Effects */

        /* Main Robot Floating Animation */
        @keyframes robotFloat {
            0%, 100% {
                transform: translateY(0px) rotateY(0deg) scale(1);
            }
            25% {
                transform: translateY(-15px) rotateY(5deg) scale(1.02);
            }
            50% {
                transform: translateY(-25px) rotateY(0deg) scale(1);
            }
            75% {
                transform: translateY(-15px) rotateY(-5deg) scale(1.01);
            }
        }

        /* Enhanced 3D Animation Keyframes */
        @keyframes robotRotate3D {
            0%, 100% {
                transform: rotateX(5deg) rotateY(15deg);
            }
            25% {
                transform: rotateX(8deg) rotateY(20deg);
            }
            50% {
                transform: rotateX(3deg) rotateY(10deg);
            }
            75% {
                transform: rotateX(7deg) rotateY(25deg);
            }
        }

        @keyframes headRotate3D {
            0%, 100% {
                transform: translateX(-50%) rotateX(10deg) rotateY(0deg) translateZ(30px);
            }
            33% {
                transform: translateX(-50%) rotateX(15deg) rotateY(120deg) translateZ(35px);
            }
            66% {
                transform: translateX(-50%) rotateX(5deg) rotateY(240deg) translateZ(25px);
            }
        }

        @keyframes bodyRotate3D {
            0%, 100% {
                transform: translateX(-50%) rotateX(-5deg) rotateY(0deg) translateZ(20px);
            }
            50% {
                transform: translateX(-50%) rotateX(-8deg) rotateY(180deg) translateZ(25px);
            }
        }

        /* Head Glow Animation */
        @keyframes headGlow {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.1);
            }
        }

        /* Screen Glow Animation */
        @keyframes screenGlow {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 0.6;
            }
        }

      
        /* Status Light Animation */
        @keyframes statusLight {
            0%, 100% {
                box-shadow:
                    0 0 15px rgba(0, 255, 136, 0.8),
                    0 0 30px rgba(0, 212, 255, 0.6);
                transform: scale(1);
            }
            50% {
                box-shadow:
                    0 0 25px rgba(0, 255, 136, 1),
                    0 0 50px rgba(0, 212, 255, 0.8);
                transform: scale(1.2);
            }
        }

        /* Body Animations */
        @keyframes bodyGlow {
            0%, 100% {
                opacity: 0.4;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.05);
            }
        }

        @keyframes techLightPulse {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
                box-shadow: 0 0 10px rgba(0, 212, 255, 0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1.3);
                box-shadow: 0 0 20px rgba(0, 212, 255, 1);
            }
        }

        @keyframes coreIndicator {
            0%, 100% {
                box-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
                opacity: 0.8;
            }
            50% {
                box-shadow: 0 0 35px rgba(0, 212, 255, 1);
                opacity: 1;
            }
        }

        /* Joint and Hand Animations */
        @keyframes jointGlow {
            0%, 100% {
                opacity: 0.5;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.1);
            }
        }

        @keyframes handGlow {
            0%, 100% {
                opacity: 0.4;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.15);
            }
        }

        /* Antenna Animations */
        @keyframes antennaGlow {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        @keyframes antennaTip {
            0%, 100% {
                box-shadow: 0 0 15px rgba(0, 212, 255, 1);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 25px rgba(0, 212, 255, 1);
                transform: scale(1.3);
            }
        }

        /* Particle Animations */
        @keyframes particleFloat1 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(100px, -80px) scale(0.5);
                opacity: 0;
            }
        }

        @keyframes particleFloat2 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            85% {
                opacity: 1;
            }
            100% {
                transform: translate(-120px, -60px) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes particleFloat3 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translate(80px, 70px) scale(0.4);
                opacity: 0;
            }
        }

        @keyframes particleFloat4 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(-90px, 90px) scale(0.6);
                opacity: 0;
            }
        }

        @keyframes particleFloat5 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            25% {
                opacity: 1;
            }
            75% {
                opacity: 1;
            }
            100% {
                transform: translate(150px, -50px) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes particleFloat6 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            95% {
                opacity: 1;
            }
            100% {
                transform: translate(-140px, 40px) scale(0.5);
                opacity: 0;
            }
        }

        @keyframes particleFloat7 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            85% {
                opacity: 1;
            }
            100% {
                transform: translate(60px, -100px) scale(0.4);
                opacity: 0;
            }
        }

        @keyframes particleFloat8 {
            0% {
                transform: translate(0px, 0px) scale(1);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translate(-110px, -90px) scale(0.3);
                opacity: 0;
            }
        }

        /* Energy Line Animations */
        @keyframes energyFlow {
            0% {
                transform: translateX(-100%);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateX(200%);
                opacity: 0;
            }
        }

        /* Welcome Message Animation */
        @keyframes welcomeFade {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0px);
            }
        }

        /* Reference Robot Responsive Design */
        @media (max-width: 1024px) {
            .robot-container {
                height: 400px;
            }
            .robot {
                width: 208px;
                height: 272px;
            }
            .robot-head {
                width: 144px;
                height: 144px;
                top: 18px;
            }
            .screen-face {
                top: 8px;
                left: 8px;
                right: 8px;
                bottom: 8px;
            }
            .robot-eyes {
                gap: 22px;
            }
            .robot-eye {
                width: 16px;
                height: 16px;
            }
            .robot-eye::before {
                width: 5px;
                height: 5px;
                top: 3px;
                left: 3px;
            }
            .robot-mouth {
                width: 36px;
                height: 18px;
            }
            .robot-body {
                width: 56px;
                height: 72px;
                top: 144px;
            }
            .robot-body::before {
                width: 24px;
                height: 2px;
            }
            .robot-arm {
                width: 12px;
                height: 56px;
                top: 152px;
            }
            .robot-arm.left {
                left: 44px;
            }
            .robot-arm.right {
                right: 44px;
            }
            .joint {
                width: 14px;
                height: 14px;
                top: 146px;
            }
            .joint.left {
                left: 45px;
            }
            .joint.right {
                right: 45px;
            }
            .robot-hand {
                width: 20px;
                height: 20px;
                top: 204px;
            }
            .robot-hand.left {
                left: 40px;
            }
            .robot-hand.right {
                right: 40px;
            }
        }

        @media (max-width: 768px) {
            .robot-container {
                height: 350px;
                margin-bottom: 2rem;
            }
            .robot {
                width: 180px;
                height: 244px;
            }
            .robot-head {
                width: 128px;
                height: 128px;
                top: 12px;
            }
            .screen-face {
                top: 5px;
                left: 5px;
                right: 5px;
                bottom: 5px;
            }
            .robot-eyes {
                gap: 20px;
            }
            .robot-eye {
                width: 27px;
                height: 27px;
            }
            .robot-eye::before {
                width: 9px;
                height: 9px;
                top: 4px;
                left: 6px;
            }
            .robot-eye::after {
                width: 4px;
                height: 4px;
                top: 8px;
                left: 10px;
            }
            .robot-mouth {
                width: 22px;
                height: 11px;
            }
            .status-indicator {
                width: 10px;
                height: 10px;
                bottom: 8px;
                right: 8px;
            }
            .robot-body {
                width: 51px;
                height: 64px;
                top: 128px;
            }
            .robot-body::before {
                width: 26px;
                height: 1px;
            }
            .robot-arm {
                width: 10px;
                height: 51px;
                top: 135px;
            }
            .robot-arm.left {
                left: 38px;
            }
            .robot-arm.right {
                right: 38px;
            }
            .joint {
                width: 11px;
                height: 11px;
                top: 130px;
            }
            .joint.left {
                left: 39px;
            }
            .joint.right {
                right: 39px;
            }
            .robot-hand {
                width: 18px;
                height: 18px;
                top: 182px;
            }
            .robot-hand.left {
                left: 34px;
            }
            .robot-hand.right {
                right: 34px;
            }
        }

        @media (max-width: 640px) {
            .robot-container {
                height: 300px;
            }
            .robot {
                width: 150px;
                height: 203px;
            }
            .robot-head {
                width: 107px;
                height: 107px;
                top: 10px;
            }
            .screen-face {
                top: 4px;
                left: 4px;
                right: 4px;
                bottom: 4px;
            }
            .robot-eyes {
                gap: 17px;
            }
            .robot-eye {
                width: 23px;
                height: 23px;
            }
            .robot-eye::before {
                width: 8px;
                height: 8px;
                top: 3px;
                left: 5px;
            }
            .robot-eye::after {
                width: 3px;
                height: 3px;
                top: 7px;
                left: 9px;
            }
            .robot-mouth {
                width: 19px;
                height: 10px;
            }
            .status-indicator {
                width: 9px;
                height: 9px;
                bottom: 6px;
                right: 6px;
            }
            .robot-body {
                width: 43px;
                height: 53px;
                top: 107px;
            }
            .robot-body::before {
                width: 22px;
                height: 1px;
            }
            .robot-arm {
                width: 9px;
                height: 43px;
                top: 113px;
            }
            .robot-arm.left {
                left: 32px;
            }
            .robot-arm.right {
                right: 32px;
            }
            .joint {
                width: 10px;
                height: 10px;
                top: 108px;
            }
            .joint.left {
                left: 33px;
            }
            .joint.right {
                right: 33px;
            }
            .robot-hand {
                width: 15px;
                height: 15px;
                top: 152px;
            }
            .robot-hand.left {
                left: 29px;
            }
            .robot-hand.right {
                right: 29px;
            }
        }

        .typing-indicator::after {
            content: '|';
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* Force black text on energy buttons with better contrast */
        button[onclick*="selectEnergyAndClose"] {
            color: black !important;
            font-weight: 600 !important;
            pointer-events: auto !important;
            z-index: 40 !important;
            position: relative !important;
            text-shadow: 0 0 1px rgba(255,255,255,0.3) !important;
            border: 1px solid rgba(0,0,0,0.2) !important;
        }

        button[onclick*="selectEnergyAndClose"]:hover {
            transform: scale(1.02) !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
        }
        button[onclick*="selectEnergy"] {
            color: black !important;
            pointer-events: auto !important;
            z-index: 40 !important;
            position: relative !important;
        }

        /* Ensure dropdowns are clickable */
        [id^="dropdown-"] {
            z-index: 50 !important;
            pointer-events: auto !important;
        }

        /* Ensure day columns are properly aligned */
        .grid-cols-7 > div {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: flex-start !important;
            min-height: 120px !important;
        }

        /* Ensure plus buttons are clickable and properly centered */
        .day-btn {
            pointer-events: auto !important;
            z-index: 45 !important;
            position: relative !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            width: 56px !important;
            height: 56px !important;
        }

        .day-btn span {
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            width: 100% !important;
            height: 100% !important;
            text-align: center !important;
            line-height: 1 !important;
            font-size: 1.5rem !important;
        }

        /* Ensure energy name labels are consistent */
        .text-xs[id^="energy-name-"] {
            height: 32px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            margin-top: 8px !important;
        }

        /* Futuristic Atmospheric Effects */
        .particles-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
        .particle { position: absolute; border-radius: 50%; pointer-events: none; animation: float-up 20s infinite linear; }
        .particle.cyan { background: radial-gradient(circle, rgba(0, 212, 255, 0.8) 0%, rgba(0, 212, 255, 0) 70%); box-shadow: 0 0 10px rgba(0, 212, 255, 0.6); }
        .particle.blue { background: radial-gradient(circle, rgba(6, 182, 212, 0.8) 0%, rgba(6, 182, 212, 0) 70%); box-shadow: 0 0 8px rgba(6, 182, 212, 0.5); }
        @keyframes float-up { 0% { transform: translateY(100vh) translateX(0) scale(0); opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { transform: translateY(-100vh) translateX(var(--random-x, 100px)) scale(1.5); opacity: 0; } }
        .grid-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px); background-size: 50px 50px; pointer-events: none; z-index: 2; animation: grid-move 30s linear infinite; }
        .grid-overlay-secondary { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(6, 182, 212, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(6, 182, 212, 0.02) 1px, transparent 1px); background-size: 100px 100px; pointer-events: none; z-index: 1; animation: grid-move-reverse 45s linear infinite; }
        @keyframes grid-move { 0% { transform: translate(0, 0); } 100% { transform: translate(50px, 50px); } }
        @keyframes grid-move-reverse { 0% { transform: translate(0, 0); } 100% { transform: translate(-100px, -100px); } }
        .ambient-glow-1 { position: fixed; top: 10%; left: 15%; width: 400px; height: 400px; background: radial-gradient(circle, rgba(0, 212, 255, 0.15) 0%, rgba(0, 212, 255, 0.05) 40%, transparent 70%); border-radius: 50%; pointer-events: none; z-index: 1; animation: pulse-glow 8s ease-in-out infinite; }
        .ambient-glow-2 { position: fixed; bottom: 20%; right: 10%; width: 350px; height: 350px; background: radial-gradient(circle, rgba(6, 182, 212, 0.12) 0%, rgba(6, 182, 212, 0.04) 40%, transparent 70%); border-radius: 50%; pointer-events: none; z-index: 1; animation: pulse-glow 10s ease-in-out infinite reverse; }
        .ambient-glow-3 { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 600px; height: 600px; background: radial-gradient(circle, rgba(0, 212, 255, 0.08) 0%, rgba(6, 182, 212, 0.03) 30%, transparent 60%); border-radius: 50%; pointer-events: none; z-index: 1; animation: pulse-glow 15s ease-in-out infinite; }
        @keyframes pulse-glow { 0%, 100% { opacity: 0.6; transform: scale(1); } 50% { opacity: 1; transform: scale(1.1); } }
        .parallax-layer-1 { position: fixed; top: 0; left: 0; width: 110%; height: 110%; background: radial-gradient(ellipse at top left, rgba(0, 212, 255, 0.05) 0%, transparent 50%); pointer-events: none; z-index: 1; will-change: transform; }
        .parallax-layer-2 { position: fixed; top: 0; left: 0; width: 110%; height: 110%; background: radial-gradient(ellipse at bottom right, rgba(6, 182, 212, 0.04) 0%, transparent 50%); pointer-events: none; z-index: 1; will-change: transform; }
        .parallax-layer-3 { position: fixed; top: 0; left: 0; width: 110%; height: 110%; background: radial-gradient(circle at center, rgba(0, 212, 255, 0.02) 0%, transparent 70%); pointer-events: none; z-index: 1; will-change: transform; }
        .content-wrapper { position: relative; z-index: 10; }
        .sidebar {
        position: relative;
        z-index: 999 !important; /* Highest z-index to ensure clickable */
        min-width: 256px; /* Ensure minimum width */
        width: 256px; /* Force width */
        max-width: 256px; /* Max width */
        flex-shrink: 0; /* Prevent shrinking */
        display: flex !important; /* Force display */
        visibility: visible !important; /* Force visibility */
        height: 100vh; /* Full height */
        overflow: visible; /* Ensure no overflow issues */
        background: rgba(30, 41, 59, 0.95) !important; /* Force background visibility */
        border-right: 2px solid rgba(0, 212, 255, 0.8) !important; /* Force border - bright for debug */
        box-shadow: 0 0 20px rgba(0, 212, 255, 0.5) !important; /* Add glow for debug */
        pointer-events: auto !important; /* Ensure sidebar is clickable */
      }
        .main-content { position: relative; z-index: 15; }

        /* Hero Section Styles */
        .glow-cyan-hero {
            animation: heroGlowPulse 3s ease-in-out infinite;
        }

        .glow-cyan-hero-delayed {
            animation: heroGlowPulse 3s ease-in-out infinite;
            animation-delay: 0.5s;
        }

        @keyframes heroGlowPulse {
            0%, 100% {
                filter: brightness(1) drop-shadow(0 0 40px rgba(0, 212, 255, 0.6));
            }
            50% {
                filter: brightness(1.2) drop-shadow(0 0 60px rgba(0, 212, 255, 0.8));
            }
        }

        .hero-cta-primary {
            animation: heroCTAGlow 2s ease-in-out infinite;
        }

        @keyframes heroCTAGlow {
            0%, 100% {
                box-shadow: 0 10px 40px rgba(6, 182, 212, 0.5), 0 0 60px rgba(6, 182, 212, 0.3);
            }
            50% {
                box-shadow: 0 15px 50px rgba(6, 182, 212, 0.7), 0 0 80px rgba(6, 182, 212, 0.4);
            }
        }

        .hero-robot-enhanced {
            animation: heroRobotFloat 6s ease-in-out infinite;
            transform-style: preserve-3d;
        }

        @keyframes heroRobotFloat {
            0%, 100% {
                transform: translateY(0px) rotateY(0deg) scale(1);
            }
            25% {
                transform: translateY(-20px) rotateY(5deg) scale(1.05);
            }
            50% {
                transform: translateY(-30px) rotateY(0deg) scale(1);
            }
            75% {
                transform: translateY(-20px) rotateY(-5deg) scale(1.02);
            }
        }

        .hero-particles {
            background: radial-gradient(ellipse at center, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            animation: heroParticlesFloat 10s ease-in-out infinite;
        }

        @keyframes heroParticlesFloat {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.1);
            }
        }

        .hero-floating-element {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.6) 0%, rgba(6, 182, 212, 0.3) 50%, transparent 70%);
            border-radius: 50%;
            animation: floatingElement 8s ease-in-out infinite;
        }

        .float-1 { animation-delay: 0s; }
        .float-2 { animation-delay: 2s; }
        .float-3 { animation-delay: 4s; }
        .float-4 { animation-delay: 6s; }

        @keyframes floatingElement {
            0%, 100% {
                transform: translateY(0px) translateX(0px) scale(1);
                opacity: 0.4;
            }
            33% {
                transform: translateY(-30px) translateX(20px) scale(1.2);
                opacity: 0.7;
            }
            66% {
                transform: translateY(20px) translateX(-30px) scale(0.8);
                opacity: 0.5;
            }
        }

        /* Enhanced Micro-interactions */

        /* Smooth transitions for all interactive elements */
        * {
            transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
        }

        /* Enhanced icon animations */
        .sidebar-item svg {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sidebar-item:hover svg {
            transform: translateX(2px);
            filter: drop-shadow(0 0 8px rgba(6, 182, 212, 0.4));
        }

        /* Interactive button press effects */
        button:active {
            transform: scale(0.98) !important;
            transition: transform 0.1s ease !important;
        }

        /* Smooth focus transitions */
        input:focus, button:focus, a:focus {
            outline: none;
            transform: scale(1.02);
        }

        /* Enhanced card hover effects */
        .calm-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .calm-card:hover {
            transform: translateY(-4px) scale(1.01);
        }

        /* Floating animation for important elements */
        @keyframes gentle-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .float-animation {
            animation: gentle-float 3s ease-in-out infinite;
        }

        /* Smooth dropdown animations */
        [id^="dropdown-"] {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: top center;
        }

        [id^="dropdown-"]:not(.hidden) {
            animation: dropdown-open 0.3s ease-out;
        }

        @keyframes dropdown-open {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(-10px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0) scale(1);
            }
        }

        /* Enhanced text animations */
        .animate-text-gradient {
            background: linear-gradient(90deg, #06b6d4, #3b82f6, #06b6d4);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: text-gradient 3s ease infinite;
        }

        @keyframes text-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Interactive particle effects on hover */
        .interactive-particles::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(6, 182, 212, 0.3) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: all 0.5s ease;
            pointer-events: none;
        }

        .interactive-particles:hover::before {
            width: 200%;
            height: 200%;
            opacity: 0.6;
        }

    </style>

    <!-- Tasks Page Styles - Scoped to #tasks-page -->
    <style>
        /* Tasks Page - All styles scoped to #tasks-page */
        #tasks-page .tasks-container {
            animation: fadeIn 0.5s ease-out;
        }

        #tasks-page .tasks-add-card,
        #tasks-page .tasks-list-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        #tasks-page .tasks-add-card:hover,
        #tasks-page .tasks-list-card:hover {
            transform: translateY(-2px);
            box-shadow:
                0 20px 40px -15px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.15);
        }

        #tasks-page .tasks-section-title {
            color: white;
            font-weight: 600;
        }

        #tasks-page .tasks-input,
        #tasks-page .tasks-textarea,
        #tasks-page .tasks-select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
        }

        #tasks-page .tasks-input::placeholder,
        #tasks-page .tasks-textarea::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        #tasks-page .tasks-input:focus,
        #tasks-page .tasks-textarea:focus,
        #tasks-page .tasks-select:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(30px);
            outline: none;
        }

        #tasks-page .tasks-add-btn {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(147, 51, 234, 0.8));
            transition: all 0.3s ease;
        }

        #tasks-page .tasks-add-btn:hover {
            transform: scale(1.02);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(147, 51, 234, 0.9));
        }

        #tasks-page .tasks-filter-btn {
            padding: 6px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        #tasks-page .tasks-filter-btn.active,
        #tasks-page .tasks-filter-btn:hover {
            background: rgba(59, 130, 246, 0.3);
            border-color: rgba(59, 130, 246, 0.5);
            color: white;
        }

        #tasks-page .tasks-list {
            max-height: 400px;
            overflow-y: auto;
        }

        #tasks-page .tasks-list::-webkit-scrollbar {
            width: 6px;
        }

        #tasks-page .tasks-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }

        #tasks-page .tasks-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        #tasks-page .tasks-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        #tasks-page .task-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
        }

        #tasks-page .task-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(4px);
        }

        #tasks-page .task-item.completed {
            opacity: 0.6;
        }

        #tasks-page .task-item.completed .task-title {
            text-decoration: line-through;
            color: rgba(255, 255, 255, 0.5);
        }

        #tasks-page .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        #tasks-page .task-title {
            color: white;
            font-weight: 500;
            font-size: 16px;
            flex: 1;
            margin-right: 12px;
        }

        #tasks-page .task-priority {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
        }

        #tasks-page .task-priority.high {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        #tasks-page .task-priority.medium {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        #tasks-page .task-priority.low {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        #tasks-page .task-description {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        #tasks-page .task-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        #tasks-page .task-category,
        #tasks-page .task-due {
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
        }

        #tasks-page .task-actions {
            display: flex;
            gap: 8px;
        }

        #tasks-page .task-btn {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #tasks-page .task-complete-btn {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        #tasks-page .task-complete-btn:hover {
            background: rgba(34, 197, 94, 0.3);
        }

        #tasks-page .task-delete-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        #tasks-page .task-delete-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        #tasks-page .tasks-empty-state {
            color: rgba(255, 255, 255, 0.5);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>

    <!-- Atmospheric Background System for Journal Page -->
    <link rel="stylesheet" href="journal-background-styles.css">
    <link rel="stylesheet" href="journal-animations.css">

    <!-- Enhanced Background Effects CSS -->
    <style>
        /* Noise Texture Animation */
        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5%, -10%); }
            20% { transform: translate(-15%, 5%); }
            30% { transform: translate(7%, -25%); }
            40% { transform: translate(-5%, 25%); }
            50% { transform: translate(-15%, 10%); }
            60% { transform: translate(15%, 0%); }
            70% { transform: translate(0%, 15%); }
            80% { transform: translate(3%, 25%); }
            90% { transform: translate(-10%, 10%); }
        }

        .noise-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            opacity: 0.3;
            animation: grain 8s steps(10) infinite;
            pointer-events: none;
        }

        /* Scanline Effect */
        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }

        .scanline {
            position: absolute;
            inset: 0;
            background: linear-gradient(
                transparent 0%,
                rgba(99, 102, 241, 0.05) 50%,
                transparent 100%
            );
            animation: scan 8s linear infinite;
            pointer-events: none;
        }

        /* Animation delay utilities */
        .delay-700 { animation-delay: 700ms; }
        .delay-1000 { animation-delay: 1000ms; }

        /* Enhanced Card Glow Effects */
        .tasks-add-card,
        .tasks-list-card,
        .entry-card,
        .bg-white\\/5.backdrop-blur-xl,
        .bg-white\\/8.backdrop-blur-xl,
        .bg-slate-800.rounded-lg.shadow-xl {
            box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.25) !important;
            transition: all 0.5s ease !important;
        }

        .tasks-add-card:hover,
        .tasks-list-card:hover,
        .entry-card:hover,
        .bg-white\\/5.backdrop-blur-xl:hover,
        .bg-white\\/8.backdrop-blur-xl:hover,
        .bg-slate-800.rounded-lg.shadow-xl:hover {
            box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.4) !important;
        }

        /* Special glow for amber/warm cards */
        .bg-amber-600,
        .bg-orange-600,
        .bg-yellow-600,
        .shadow-amber-500\\/5 {
            box-shadow: 0 25px 50px -12px rgba(251, 191, 36, 0.25) !important;
            transition: all 0.5s ease !important;
        }

        .bg-amber-600:hover,
        .bg-orange-600:hover,
        .bg-yellow-600:hover,
        .shadow-amber-500\\/5:hover {
            box-shadow: 0 25px 50px -12px rgba(251, 191, 36, 0.4) !important;
        }

        /* Fix Layout Height and Background Continuity */
        html, body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            min-height: 100vh;
            max-height: none;
            overflow-y: auto;
        }

        .content-wrapper {
            min-height: 100vh;
            position: relative;
            z-index: 1;
            height: auto;
        }

        /* Constrain ALL background elements to viewport only */
        .particles-container,
        .grid-overlay,
        .grid-overlay-secondary,
        .ambient-glow-1,
        .ambient-glow-2,
        .ambient-glow-3,
        .parallax-layer-1,
        .parallax-layer-2,
        .parallax-layer-3,
        .fixed > div {
            position: absolute !important;
            width: 100vw !important;
            height: 100vh !important;
            max-width: 100vw !important;
            max-height: 100vh !important;
            overflow: hidden !important;
        }

        /* Ensure background elements don't cause scroll */
        .fixed {
            position: fixed !important;
            width: 100vw !important;
            height: 100vh !important;
            max-width: 100vw !important;
            max-height: 100vh !important;
            overflow: hidden !important;
        }

        /* Remove any pseudo-elements that might extend the background */
        body::before,
        body::after {
            display: none !important;
        }

        /* Ensure proper body scrolling */
        body {
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* Fix content areas - let them determine their own height */
        main,
        .flex-1,
        [class*="page"] {
            height: auto;
            min-height: auto;
        }

        /* Dashboard Page Galaxy Background - ONLY for Dashboard */
        #dashboard-page {
            background:
                linear-gradient(rgba(10, 10, 25, 0.8), rgba(25, 15, 60, 0.8)),
                url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop&crop=center&q=80') center/cover no-repeat fixed !important;
            min-height: 100vh !important;
            width: 100% !important;
            position: relative !important;
            color: #fff !important;
        }

        /* Ensure dashboard background overrides any other backgrounds */
        body:not(.journal-active) #dashboard-page {
            background:
                linear-gradient(rgba(10, 10, 25, 0.8), rgba(25, 15, 60, 0.8)),
                url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop&crop=center&q=80') center/cover no-repeat fixed !important;
        }

        /* Fallback background if image fails to load */
        #dashboard-page {
            background-color: #1a0033 !important;
        }

        /* Ensure dashboard content remains readable */
        #dashboard-page .p-8 {
            position: relative;
            z-index: 2;
        }

        /* Dark overlay for better text readability on dashboard */
        #dashboard-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(10, 10, 25, 0.85) 0%,
                rgba(20, 20, 45, 0.75) 50%,
                rgba(10, 10, 25, 0.85) 100%
            );
            z-index: 1;
            pointer-events: none;
        }

        /* Enhance dashboard card visibility with subtle backdrop blur */
        #dashboard-page .bg-white\\/5,
        #dashboard-page .bg-slate-800\\/60,
        #dashboard-page .bg-slate-900\\/60 {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-950 via-indigo-950/20 via-purple-950/10 to-slate-950 text-white relative noise-bg">
    <div class="flex min-h-screen content-wrapper">

    <!-- Background Effects Container - Fixed Position, Constrained to Viewport -->
    <div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
        <div class="particles-container" id="particles"></div>
        <div class="grid-overlay"></div>
        <div class="grid-overlay-secondary"></div>
        <div class="ambient-glow-1"></div>
        <div class="ambient-glow-2"></div>
        <div class="ambient-glow-3"></div>
        <div class="parallax-layer-1"></div>
        <div class="parallax-layer-2"></div>
        <div class="parallax-layer-3"></div>

        <!-- Enhanced Animated Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-amber-500/5 animate-pulse"></div>

        <!-- Enhanced Subtle Grid Pattern -->
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(99,102,241,0.05),transparent_50%)]"></div>

        <!-- Enhanced Floating Particles/Orbs -->
        <div class="absolute top-20 left-1/4 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-20 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-700"></div>
        <div class="absolute top-1/2 right-1/3 w-48 h-48 bg-amber-500/10 rounded-full blur-3xl animate-pulse delay-1000"></div>

        <!-- Enhanced Scanline Effect -->
        <div class="scanline"></div>
    </div>
        <!-- Sidebar -->
        <div class="w-56 bg-slate-900/60 backdrop-blur-xl border-r border-slate-800/80 flex flex-col">
  
            <!-- Navigation -->
            <nav class="flex-1 p-4 space-y-1">
                <button onclick="console.log('Clicked Dashboard'); showDashboardPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    <span class="text-sm font-medium">Dashboard</span>
                </button>

                <button onclick="console.log('Clicked Journal'); showJournalPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                    <span class="text-sm font-medium">Journal</span>
                </button>

                <button onclick="console.log('Clicked Tasks'); showTasksPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                    <span class="text-sm font-medium">Tasks</span>
                </button>

                <button onclick="console.log('Clicked Calendar'); showCalendarPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <span class="text-sm font-medium">Calendar</span>
                </button>

                <button onclick="console.log('Clicked Email'); showEmailPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <span class="text-sm font-medium">Email</span>
                </button>

                <button onclick="console.log('Clicked Contacts'); showContactsPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                    <span class="text-sm font-medium">Contacts</span>
                </button>

                <button onclick="console.log('Clicked Claude'); showClaudePage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                    </svg>
                    <span class="text-sm font-medium">Claude</span>
                </button>
            </nav>

            <!-- Settings -->
            <div class="p-4 border-t border-slate-800/80">
                <button onclick="console.log('Clicked Settings'); showSettingsPage()" class="sidebar-item w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 cursor-pointer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span class="text-sm font-medium">Settings</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Top Navigation -->
            <header class="bg-[#1a1f2e]/80 backdrop-blur-xl border-b border-white/10 px-6 py-4 shadow-xl">
                <div class="flex items-center justify-between">
                </div>
            </header>

            <!-- Hero Section -->
            <main class="flex-1 overflow-y-auto main-content relative bg-gradient-to-br from-[#000000] via-[#0a0f1e] to-[#000000]">
                <!-- Dashboard Page -->
                <div id="dashboard-page">
                    <div class="p-8">
                        <!-- Header -->
                        <div class="mb-8">
                            <h1 class="text-4xl font-bold text-white mb-2">Energy Dashboard</h1>
                            <div class="flex items-center gap-4">
                                <p class="text-slate-400">Track your energy patterns</p>
                                <div class="flex items-center gap-2 bg-slate-800/50 px-4 py-2 rounded-lg border border-slate-700/50">
                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    <span class="text-sm text-slate-300">Week of Oct 14-20, 2025</span>
                                </div>
                            </div>
                        </div>

                        <!-- Two-Column Grid Layout -->
                        <div class="grid grid-cols-12 gap-6">
                            <!-- Left Column (wider) -->
                            <div class="col-span-8 space-y-6">
                                <!-- Energy Goal This Week Card -->
                                <div class="bg-slate-800/40 backdrop-blur-sm rounded-2xl p-6 border border-slate-700/50">
                                    <div class="flex items-center gap-3 mb-4">
                                        <div class="p-2 bg-amber-500/10 rounded-lg">
                                            <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <h2 class="text-xl font-semibold text-white">Energy Goal This Week</h2>
                                            <p class="text-xs text-slate-400">Set your weekly energy target</p>
                                        </div>
                                    </div>

                                    <div class="flex items-center gap-4">
                                        <select class="flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-indigo-500/50">
                                            <option>Courage (200)</option>
                                            <option>Neutrality (250)</option>
                                            <option>Willingness (310)</option>
                                            <option>Acceptance (350)</option>
                                            <option>Reason (400)</option>
                                            <option>Love (500)</option>
                                            <option>Joy (540)</option>
                                            <option>Peace (600)</option>
                                            <option>Enlightenment (700)</option>
                                        </select>
                                        <button class="px-6 py-2 bg-amber-600 hover:bg-amber-500 rounded-lg font-medium transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-amber-500/20 cursor-pointer liquid-hover">
                                            Set Goal
                                        </button>
                                    </div>
                                </div>

                                <!-- Daily Energy Tracker Card -->
                                <div class="bg-slate-800/40 backdrop-blur-sm rounded-2xl p-6 border border-slate-700/50">
                                    <h2 class="text-xl font-semibold text-white mb-2">Daily Energy Tracker</h2>
                                    <p class="text-xs text-slate-400 mb-4">Click on each day to log your energy level</p>

                                    <div class="grid grid-cols-7 gap-2">
                                        <!-- Monday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Mon</div>
                                            <button onclick="toggleDayDropdown(0)" id="day-0" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-0" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Tuesday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Tue</div>
                                            <button onclick="toggleDayDropdown(1)" id="day-1" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-1" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Wednesday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Wed</div>
                                            <button onclick="toggleDayDropdown(2)" id="day-2" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-2" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Thursday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Thu</div>
                                            <button onclick="toggleDayDropdown(3)" id="day-3" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-3" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Friday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Fri</div>
                                            <button onclick="toggleDayDropdown(4)" id="day-4" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-4" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Saturday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Sat</div>
                                            <button onclick="toggleDayDropdown(5)" id="day-5" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-5" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>

                                        <!-- Sunday -->
                                        <div class="text-center">
                                            <div class="text-xs text-slate-400 mb-2">Sun</div>
                                            <button onclick="toggleDayDropdown(6)" id="day-6" class="group relative w-full p-4 rounded-xl border transition-all duration-300 bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50 hover:border-indigo-500/50 hover:scale-105 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer">
                                                <span class="text-white text-lg font-bold">+</span>
                                            </button>
                                            <div id="energy-name-6" class="text-xs text-slate-400 mt-1">Not Set</div>
                                        </div>
                                    </div>

                                    <!-- Energy Dropdown Menus (hidden by default) -->
                                    <div id="dropdown-0" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(0, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(0, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>

                                    <!-- Repeat similar dropdowns for days 1-6 -->
                                    <div id="dropdown-1" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(1, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(1, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                    <div id="dropdown-2" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(2, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(2, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                    <div id="dropdown-3" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(3, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(3, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                    <div id="dropdown-4" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(4, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(4, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                    <div id="dropdown-5" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(5, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(5, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                    <div id="dropdown-6" class="hidden absolute z-50 mt-2 w-48 bg-slate-800 rounded-lg border border-slate-700 shadow-xl">
                                        <button onclick="selectEnergyForDay(6, 20)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòû</span> Shame (20)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 30)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòî</span> Guilt (30)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 50)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¥</span> Apathy (50)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 75)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò¢</span> Grief (75)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 100)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò®</span> Fear (100)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 125)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üî•</span> Desire (125)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 150)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üò°</span> Anger (150)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 175)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòé</span> Pride (175)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 200)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>ü¶Å</span> Courage (200)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 250)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòê</span> Neutrality (250)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 310)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üí™</span> Willingness (310)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 350)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚úÖ</span> Acceptance (350)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 400)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üß†</span> Reason (400)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 500)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>‚ù§Ô∏è</span> Love (500)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 540)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üòä</span> Joy (540)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 600)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üïäÔ∏è</span> Peace (600)
                                        </button>
                                        <button onclick="selectEnergyForDay(6, 700)" class="w-full text-left px-4 py-2 hover:bg-slate-700 text-white flex items-center gap-2">
                                            <span>üåü</span> Enlightenment (700)
                                        </button>
                                    </div>
                                </div>

                                <!-- Energy History Card -->
                                <div class="bg-slate-800/40 backdrop-blur-sm rounded-2xl p-6 border border-slate-700/50">
                                    <h2 class="text-xl font-semibold text-white mb-2">Energy History</h2>
                                    <p class="text-xs text-slate-400 mb-4">View your energy patterns over time</p>

                                    <div class="text-center py-8">
                                        <div class="text-6xl mb-4">üìä</div>
                                        <h3 class="text-lg font-medium text-white mb-2">No energy data yet</h3>
                                        <p class="text-slate-400">Start logging your daily energy levels to see patterns emerge</p>

                                        <button class="mt-4 px-6 py-3 bg-amber-600 hover:bg-amber-500 rounded-lg font-medium transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-amber-500/20 cursor-pointer liquid-hover">
                                            Start First Entry
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column (narrower) -->
                            <div class="col-span-4 space-y-6">
                                <!-- Quick Check-In Card -->
                                <div class="bg-indigo-600/10 backdrop-blur-sm rounded-2xl p-5 border border-indigo-500/20">
                                    <h2 class="text-xl font-semibold text-white mb-2">Quick Check-In</h2>
                                    <p class="text-xs text-slate-400 mb-4">How are you feeling right now?</p>

                                    <div class="space-y-2">
                                        <button onclick="selectQuickEmotion('amazing')" class="w-full py-4 px-2 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-indigo-600/20 hover:border-indigo-500/40 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer flex items-center justify-center gap-2">
                                            <span class="text-xl">ü§©</span>
                                            <span class="text-white">Amazing</span>
                                        </button>
                                        <button onclick="selectQuickEmotion('good')" class="w-full py-4 px-2 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-indigo-600/20 hover:border-indigo-500/40 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer flex items-center justify-center gap-2">
                                            <span class="text-xl">üòä</span>
                                            <span class="text-white">Good</span>
                                        </button>
                                        <button onclick="selectQuickEmotion('neutral')" class="w-full py-4 px-2 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-indigo-600/20 hover:border-indigo-500/40 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer flex items-center justify-center gap-2">
                                            <span class="text-xl">üòê</span>
                                            <span class="text-white">Neutral</span>
                                        </button>
                                        <button onclick="selectQuickEmotion('low')" class="w-full py-4 px-2 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-indigo-600/20 hover:border-indigo-500/40 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer flex items-center justify-center gap-2">
                                            <span class="text-xl">üòî</span>
                                            <span class="text-white">Low</span>
                                        </button>
                                        <button onclick="selectQuickEmotion('struggling')" class="w-full py-4 px-2 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-indigo-600/20 hover:border-indigo-500/40 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20 cursor-pointer flex items-center justify-center gap-2">
                                            <span class="text-xl">üò∞</span>
                                            <span class="text-white">Struggling</span>
                                        </button>
                                    </div>
                                </div>

                                <!-- Consciousness Levels Card -->
                                <div class="bg-slate-800/40 backdrop-blur-sm rounded-2xl p-5 border border-slate-700/50">
                                    <h2 class="text-xl font-semibold text-white mb-2">Consciousness Levels</h2>
                                    <p class="text-xs text-slate-400 mb-4">Map your emotional states</p>

                                    <div class="space-y-3">
                                        <div class="p-4 rounded-xl bg-slate-800/60 border border-slate-700/50 hover:bg-slate-700/50 transition-all duration-300 cursor-pointer">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <div class="font-medium text-white">Survival Paradigm</div>
                                                    <div class="text-xs text-slate-400">üåë Fear-based</div>
                                                </div>
                                                <div class="text-xl">üò®</div>
                                            </div>
                                        </div>

                                        <div class="p-4 rounded-xl bg-slate-800/60 border border-slate-700/50 hover:bg-slate-700/50 transition-all duration-300 cursor-pointer">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <div class="font-medium text-white">Reason & Integrity</div>
                                                    <div class="text-xs text-slate-400">üß† Understanding</div>
                                                </div>
                                                <div class="text-xl">üß†</div>
                                            </div>
                                        </div>

                                        <div class="p-4 rounded-xl bg-indigo-900/30 border border-indigo-600/40 ring-2 ring-indigo-500/50 shadow-lg shadow-indigo-500/20">
                                            <div class="absolute -top-2 -right-2 px-2 py-0.5 bg-indigo-600 rounded-full text-xs font-bold">Current</div>
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <div class="font-medium text-white">Courage</div>
                                                    <div class="text-xs text-slate-400">üí™ Empowerment</div>
                                                </div>
                                                <div class="text-xl">üí™</div>
                                            </div>
                                        </div>

                                        <div class="p-4 rounded-xl bg-slate-800/60 border border-slate-700/50 hover:bg-slate-700/50 transition-all duration-300 cursor-pointer">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <div class="font-medium text-white">Spiritual Paradigm</div>
                                                    <div class="text-xs text-slate-400">‚ú® Enlightenment</div>
                                                </div>
                                                <div class="text-xl">‚ú®</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Keep Going! Motivation Card -->
                                <div class="bg-amber-500/10 backdrop-blur-sm rounded-2xl p-5 border border-amber-500/20">
                                    <div class="text-center">
                                        <div class="text-4xl mb-3">üéØ</div>
                                        <h3 class="font-semibold text-white mb-2">Keep Going!</h3>
                                        <p class="text-sm text-slate-300">
                                            Track for 7 days to unlock personalized insights
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Journal Page -->
                <div id="journal-page" class="hidden">
                    <!-- 3D Perspective Container -->
                    <div class="journal-3d-container" style="perspective: 1500px; transform-style: preserve-3d;">

                        <!-- Background Grid Overlay -->
                        <div class="journal-grid-overlay fixed inset-0 pointer-events-none opacity-20">
                            <div class="absolute inset-0 bg-grid-pattern"></div>
                        </div>

                        <!-- Main Journal Layout Container -->
                        <div class="journal-main-container min-h-screen p-6 relative z-10">

                            <!-- Journal Header -->
                            <header class="journal-header mb-8 text-center">
                                <h1 class="text-5xl font-black bg-gradient-to-r from-[#00d4ff] via-[#06b6d4] to-[#0891b2] bg-clip-text text-transparent mb-2">
                                    Energy Journal
                                </h1>
                                <p class="text-xl text-[#9ca3af]">Track your consciousness journey</p>
                            </header>

                            <!-- Two-Column Flex Layout (Side by Side) -->
                            <div class="journal-grid-layout flex flex-col lg:flex-row gap-6 w-full">

                                <!-- Left Column - Journal Entry Form (40%) -->
                                <div class="journal-left-column lg:w-2/5">
                                    <!-- EXACT ENTRY FORM SPECIFICATIONS -->
                                    <div class="journal-form-card bg-white/5 backdrop-blur-2xl border border-white/10 p-10 shadow-[0_8px_32px_rgba(0,0,0,0.12)] rounded-3xl">

                                        <!-- Speech Bubble with Emoji (Simple Static Version) -->
                                        <div class="emoji-companion mb-8 flex items-center justify-center gap-2">
                                            <span class="text-5xl">üí≠</span>
                                            <div class="bg-white/[0.92] backdrop-blur-2xl rounded-2xl px-5 py-3 shadow-sm border border-white/[0.25]">
                                                <span class="text-gray-700 text-sm font-medium">
                                                    How are you feeling today?
                                                </span>
                                            </div>
                                        </div>

                                        <!-- Date Picker (h-12, exact specs) -->
                                        <div class="journal-date-section mb-6">
                                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üìÖ Date</div>
                                            <input type="date" class="journal-date-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300">
                                        </div>

                                        <!-- Reflections Textarea (8 rows, h-40) -->
                                        <div class="journal-reflections-section mb-6">
                                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üí≠ Reflections</div>
                                            <textarea id="journal-reflections" class="journal-reflections w-full h-40 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 resize-none focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" rows="8" placeholder="What's on your mind? Share your thoughts and feelings..."></textarea>
                                        </div>

                                        <!-- Biggest Win Input (h-12) -->
                                        <div class="journal-win-section mb-6">
                                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üèÜ Biggest Win</div>
                                            <input type="text" class="journal-win-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What was your proudest moment today?">
                                        </div>

                                        <!-- Key Learning Input (h-12) -->
                                        <div class="journal-learning-section mb-6">
                                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üìö Key Learning</div>
                                            <input type="text" class="journal-learning-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What did you learn or discover today?">
                                        </div>

                                        <!-- Tags Input (h-12) -->
                                        <div class="journal-tags-section mb-8">
                                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üè∑Ô∏è Tags (optional)</div>
                                            <input type="text" id="journal-tags" class="journal-tags-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="#gratitude #growth #mindfulness">
                                        </div>

                                        <!-- Save Button (h-14, exact specs) -->
                                        <button class="journal-save-btn w-full h-14 bg-gradient-to-r from-blue-400/80 to-purple-400/80 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-102 hover:from-blue-400/90 hover:to-purple-400/90 shadow-[0_4px_16px_rgba(147,51,234,0.3)] hover:shadow-[0_6px_24px_rgba(147,51,234,0.4)]">
                                            Save Entry üíæ
                                        </button>

                                    </div>
                                </div>

                                <!-- Right Column - Timeline (60%) -->
                                <div class="journal-right-column lg:w-3/5">
                                    <!-- TIMELINE EXACT SPECIFICATIONS -->
                                    <!-- Container: Transparent, no card background -->
                                    <div class="timeline-container p-8">
                                        <!-- Header -->
                                        <div class="timeline-header mb-8">
                                            <h2 class="text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-2">üìñ Your Journey</h2>
                                            <p id="entry-count" class="text-sm text-gray-400">0 entries total</p>
                                        </div>

                                        <!-- Search Bar -->
                                        <div class="timeline-search mb-8">
                                            <input type="text" id="timeline-search" class="timeline-search-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="Search entries...">
                                        </div>

                                        <!-- Timeline Entries Container -->
                                        <div id="timeline-entries" class="timeline-entries space-y-4 max-h-[600px] overflow-y-auto pr-2">
                                            <!-- Empty State -->
                                            <div id="empty-state" class="empty-state text-center py-16">
                                                <div class="text-6xl mb-4">‚ú®</div>
                                                <h3 class="text-xl font-semibold text-white mb-2">Start your journey</h3>
                                                <p class="text-gray-400">Write your first entry above</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

  
                

                <!-- Tasks Page -->
                <div id="tasks-page" class="hidden">
                    <div class="tasks-container max-w-7xl mx-auto px-6 py-8">
                        <!-- Tasks Header -->
                        <div class="tasks-header mb-8 text-center">
                            <h1 class="text-4xl font-bold text-white mb-3">Task Manager</h1>
                            <p class="text-gray-300 text-lg">Organize your tasks and boost your productivity</p>
                        </div>

                        <!-- Tasks Main Content -->
                        <div class="tasks-main-content">
                            <!-- Add Task Section -->
                            <div class="tasks-add-section mb-8">
                                <div class="tasks-add-card bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl">
                                    <h2 class="tasks-section-title text-xl font-semibold text-white mb-4 flex items-center">
                                        <span class="text-2xl mr-2">‚ûï</span>
                                        Add New Task
                                    </h2>
                                    <div class="tasks-add-form">
                                        <div class="tasks-form-row mb-4">
                                            <input type="text" id="task-title-input" class="tasks-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What needs to be done?">
                                        </div>
                                        <div class="tasks-form-row mb-4">
                                            <textarea id="task-description-input" class="tasks-textarea w-full h-24 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 resize-none focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="Add more details (optional)"></textarea>
                                        </div>
                                        <div class="tasks-form-row grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                            <select id="task-priority-select" class="tasks-select w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300">
                                                <option value="low">Low Priority</option>
                                                <option value="medium" selected>Medium Priority</option>
                                                <option value="high">High Priority</option>
                                            </select>
                                            <input type="date" id="task-due-input" class="tasks-input w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300">
                                            <select id="task-category-select" class="tasks-select w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300">
                                                <option value="personal">Personal</option>
                                                <option value="work">Work</option>
                                                <option value="health">Health</option>
                                                <option value="learning">Learning</option>
                                                <option value="other">Other</option>
                                            </select>
                                        </div>
                                        <button onclick="window.addSimpleTask()" class="tasks-add-btn w-full h-14 bg-gradient-to-r from-blue-400/80 to-purple-400/80 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 hover:from-blue-400/90 hover:to-purple-400/90 shadow-[0_4px_16px_rgba(147,51,234,0.3)] hover:shadow-[0_6px_24px_rgba(147,51,234,0.4)]">
                                            Add Task
                                        </button>
                                    </div>
                                </div>

                                <!-- Task Statistics -->
                                <div id="tasks-stats" class="tasks-stats-container" style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 20px; margin-bottom: 30px;">
                                    <h3 style="font-size: 18px; font-weight: 600; color: #ffffff; margin-bottom: 20px; text-align: center; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">üìä Task Statistics</h3>
                                    <div id="tasks-stats-content" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                                        <!-- Stats will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>

                            <!-- Tasks List Section -->
                            <div class="tasks-list-section">
                                <div class="tasks-list-card bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl">
                                    <div class="tasks-list-header flex justify-between items-center mb-6">
                                        <h2 class="tasks-section-title text-xl font-semibold text-white flex items-center">
                                            <span class="text-2xl mr-2">üìã</span>
                                            Your Tasks
                                        </h2>
                                        <div class="tasks-filters flex gap-2">
                                            <button class="tasks-filter-btn active" data-filter="all">All</button>
                                            <button class="tasks-filter-btn" data-filter="pending">Pending</button>
                                            <button class="tasks-filter-btn" data-filter="completed">Completed</button>
                                        </div>
                                    </div>

                                    <!-- Tasks Count -->
                                    <div class="tasks-count mb-4 text-gray-300 text-sm">
                                        <span id="tasks-count">0</span> task(s) total
                                    </div>

                                    <!-- Tasks List -->
                                    <div id="tasks-list" class="tasks-list space-y-3 max-h-96 overflow-y-auto">
                                        <!-- Tasks will be dynamically added here -->
                                        <div id="tasks-empty-state" class="tasks-empty-state text-center py-12">
                                            <div class="text-6xl mb-4 opacity-50">üìù</div>
                                            <div class="text-xl text-gray-400 mb-2">No tasks yet</div>
                                            <div class="text-sm text-gray-500">Add your first task above to get started!</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </main>
        </div>
    </div>

    <!-- Energy Selection Modal -->
    <div id="energyModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-[#1a1f2e]/95 backdrop-blur-xl rounded-2xl p-8 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto border border-white/20 shadow-2xl shadow-[#6366f1]/30">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-white">Log Energy for <span id="modalDayName"></span></h3>
                <button onclick="closeEnergyModal()" class="text-gray-400 hover:text-white">
                    ‚úï
                </button>
            </div>

            <!-- Energy Frequency Scale -->
            <div class="space-y-4">
                <!-- Enlightenment 700 -->
                <button onclick="selectEnergy(700)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #8b4f9f;">
                    <span>üåü Enlightenment</span>
                    <span class="font-bold">700</span>
                </button>

                <!-- Peace 600 -->
                <button onclick="selectEnergy(600)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #5dade2;">
                    <span>üïäÔ∏è Peace</span>
                    <span class="font-bold">600</span>
                </button>

                <!-- Joy 540 -->
                <button onclick="selectEnergy(540)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #85c1e2;">
                    <span>üòä Joy</span>
                    <span class="font-bold">540</span>
                </button>

                <!-- Love 500 -->
                <button onclick="selectEnergy(500)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #85c1e2;">
                    <span>‚ù§Ô∏è Love</span>
                    <span class="font-bold">500</span>
                </button>

                <!-- Reason 400 -->
                <button onclick="selectEnergy(400)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #a9dfbf;">
                    <span>üß† Reason</span>
                    <span class="font-bold">400</span>
                </button>

                <!-- Acceptance 350 -->
                <button onclick="selectEnergy(350)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #7dcea0;">
                    <span>‚úÖ Acceptance</span>
                    <span class="font-bold">350</span>
                </button>

                <!-- Willingness 310 -->
                <button onclick="selectEnergy(310)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #7dcea0;">
                    <span>üí™ Willingness</span>
                    <span class="font-bold">310</span>
                </button>

                <!-- Neutrality 250 -->
                <button onclick="selectEnergy(250)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #d5f4e6;">
                    <span>üòê Neutrality</span>
                    <span class="font-bold">250</span>
                </button>

                <!-- Courage 200 -->
                <button onclick="selectEnergy(200)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f9e79f;">
                    <span>ü¶Å Courage</span>
                    <span class="font-bold">200</span>
                </button>

                <!-- Pride 175 -->
                <button onclick="selectEnergy(175)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f8c471;">
                    <span>üòé Pride</span>
                    <span class="font-bold">175</span>
                </button>

                <!-- Anger 150 -->
                <button onclick="selectEnergy(150)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f0b27a;">
                    <span>üò° Anger</span>
                    <span class="font-bold">150</span>
                </button>

                <!-- Desire 125 -->
                <button onclick="selectEnergy(125)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f0b27a;">
                    <span>üî• Desire</span>
                    <span class="font-bold">125</span>
                </button>

                <!-- Fear 100 -->
                <button onclick="selectEnergy(100)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f0b27a;">
                    <span>üò® Fear</span>
                    <span class="font-bold">100</span>
                </button>

                <!-- Grief 75 -->
                <button onclick="selectEnergy(75)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f1948a;">
                    <span>üò¢ Grief</span>
                    <span class="font-bold">75</span>
                </button>

                <!-- Apathy 50 -->
                <button onclick="selectEnergy(50)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f1948a;">
                    <span>üò¥ Apathy</span>
                    <span class="font-bold">50</span>
                </button>

                <!-- Guilt 35 -->
                <button onclick="selectEnergy(35)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f1948a;">
                    <span>üòî Guilt</span>
                    <span class="font-bold">35</span>
                </button>

                <!-- Shame 20 -->
                <button onclick="selectEnergy(20)" class="w-full py-3 px-4 text-black rounded-lg hover:opacity-80 transition flex items-center justify-between" style="background-color: #f1948a;">
                    <span>üòû Shame</span>
                    <span class="font-bold">20</span>
                </button>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div id="historyModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" style="display: none !important;">
        <div class="bg-slate-900 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto border border-white/10">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-white">Energy History</h3>
                <button onclick="closeHistoryModal()" class="text-gray-400 hover:text-white text-2xl">
                    ‚úï
                </button>
            </div>

            <div id="historyContent">
                <!-- History content will be loaded here -->
            </div>
        </div>

                <!-- Energy History Section - Full Width -->
                <div class="calm-card rounded-3xl p-8 bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl shadow-indigo-500/10 hover:shadow-[0_0_40px_rgba(6,182,255,0.3)] hover:border-indigo-500/30 transition-all duration-500 ">
                    <div class="flex items-center justify-center mb-6">
                        <span class="text-3xl mr-3">üìã</span>
                        <h2 class="text-xl font-light text-white">Energy History</h2>
                    </div>
                    <div id="historyDisplay" class="space-y-3">
                        <p class="text-gray-500 text-center">No energy logs yet this week</p>
                    </div>
                </div>
            </div>
        </main>

    <!-- Result Modal -->
    <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-slate-900 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto border border-white/10">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-white">Analysis Result</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="resultContent" class="prose max-w-none prose-invert">
                <!-- Results will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // SIMPLE TEST - Check if JavaScript works at all
        window.testJS = function() {
            alert('JavaScript is working!');
        };

        // Call test immediately
        setTimeout(testJS, 1000);

        // Test if toggleDayDropdown function exists
        setTimeout(() => {
            console.log('toggleDayDropdown function exists:', typeof toggleDayDropdown !== 'undefined');
            console.log('toggleDayDropdown function:', window.toggleDayDropdown);
        }, 1500);

        // Simple test function
        window.testToggle = function() {
            console.log('testToggle called!');
            alert('testToggle works!');
        };

        // Simple working toggleDayDropdown function
        window.toggleDayDropdown = function(dayIndex) {
            alert('toggleDayDropdown called: ' + dayIndex);

            // Close all dropdowns first
            document.querySelectorAll('[id^="dropdown-"]').forEach(d => {
                d.classList.add('hidden');
            });

            // Show the clicked dropdown
            const dropdown = document.getElementById('dropdown-' + dayIndex);
            if (dropdown) {
                dropdown.classList.remove('hidden');
            }
        };

        
        // Energy Emotions Data - Define first to ensure availability
        const energyEmotions = {
            700: { name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600' },
            600: { name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600' },
            540: { name: 'Joy', emoji: 'üòä', color: 'bg-blue-600' },
            500: { name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600' },
            400: { name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600' },
            350: { name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600' },
            310: { name: 'Willingness', emoji: 'üí™', color: 'bg-red-600' },
            250: { name: 'Neutrality', emoji: '‚öñÔ∏è', color: 'bg-gray-600' },
            200: { name: 'Courage', emoji: 'ü¶Å', color: 'bg-pink-600' },
            175: { name: 'Pride', emoji: 'ü¶ö', color: 'bg-teal-600' },
            150: { name: 'Anger', emoji: 'üò†', color: 'bg-red-700' },
            125: { name: 'Desire', emoji: 'üéØ', color: 'bg-purple-700' },
            100: { name: 'Fear', emoji: 'üò®', color: 'bg-gray-700' },
            75: { name: 'Grief', emoji: 'üò¢', color: 'bg-blue-700' },
            50: { name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-800' },
            35: { name: 'Guilt', emoji: 'üòî', color: 'bg-indigo-700' },
            20: { name: 'Shame', emoji: 'üò≥', color: 'bg-purple-800' }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateGreeting();
            loadSavedGoal();
            setInterval(updateDateTime, 1000);
        });

        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting = 'Good evening';
            let emoji = 'üåô';
            if (hour < 12) {
                greeting = 'Good morning';
                emoji = '‚òÄÔ∏è';
            } else if (hour < 18) {
                greeting = 'Good afternoon';
                emoji = 'üå§Ô∏è';
            }

            const greetingElement = document.querySelector('h1');
            const dateElement = document.querySelector('main > div:first-child > div > div > p');
            if (greetingElement) {
                greetingElement.innerHTML = `${greeting}, Larina! ${emoji}`;
            }
            if (dateElement) {
                const now = new Date();
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                dateElement.textContent = `${now.toLocaleDateString('en-US', options)} ‚Ä¢ Let's make today productive`;
            }
        }

        function updateDateTime() {
            const now = new Date();
            // Update time-based elements if needed
        }

        // Today's Focus functionality
        function saveDailyGoal() {
            const input = document.getElementById('dailyGoalInput');
            const goalText = input.value.trim();

            if (goalText) {
                localStorage.setItem('dailyGoal', goalText);
                localStorage.setItem('goalDate', new Date().toDateString());
                displaySavedGoal(goalText);
                input.value = '';
                showNotification('Goal saved successfully! üéØ');
            }
        }

        function loadSavedGoal() {
            const savedGoal = localStorage.getItem('dailyGoal');
            const goalDate = localStorage.getItem('goalDate');
            const today = new Date().toDateString();

            if (savedGoal && goalDate === today) {
                displaySavedGoal(savedGoal);
            }
        }

        function displaySavedGoal(goalText) {
            const savedGoalDiv = document.getElementById('savedGoal');
            const goalTextElement = document.getElementById('goalText');
            const focusStatus = document.getElementById('focusStatus');

            savedGoalDiv.classList.remove('hidden');
            goalTextElement.textContent = goalText;
            focusStatus.textContent = 'Set';
            focusStatus.classList.add('text-green-400');
        }

        // Daily Routine functions
        function startMorningJournal() {
            showNotification('Opening morning journal... üìù');
            // Simulate navigation or modal
            setTimeout(() => {
                showNotification('Journal ready! Start writing about your day.');
            }, 1000);
        }

        function checkTasks() {
            showNotification('Loading your tasks... ‚úÖ');
            setTimeout(() => {
                showNotification('You have 5 tasks pending. 2 are high priority!');
            }, 800);
        }

        function reviewCalendar() {
            showNotification('Opening calendar... üìÖ');
            setTimeout(() => {
                showNotification('3 events scheduled for today. Next event: Team Standup at 9:00 AM');
            }, 800);
        }

        function inboxZero() {
            showNotification('Processing your inbox... ‚úâÔ∏è');
            setTimeout(() => {
                showNotification('47 emails found. 2 require immediate attention.');
            }, 1200);
        }

        // Claude's Smart Suggestions functions
        function catchUpJournal() {
            showNotification('Opening yesterday\'s journal entry... üìî');
            setTimeout(() => {
                showNotification('Journal template ready. What happened yesterday?');
            }, 1000);
        }

        function viewProgress() {
            showNotification('Loading your progress stats... üìà');
            setTimeout(() => {
                showNotification('Great work! You\'re 20% more productive than last week.');
            }, 800);
        }

        function scheduleFocusTime() {
            showNotification('Opening focus time scheduler... üéØ');
            setTimeout(() => {
                showNotification('2:00 PM - 4:00 PM slot available. Schedule now?');
            }, 1000);
        }

        // Notification system
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-4 right-4 bg-slate-800 text-white px-4 py-3 rounded-lg shadow-lg border border-white/10 z-50 animate-pulse';
            notification.textContent = message;

            document.body.appendChild(notification);

            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Handle Enter key in goal input - only if element exists
        const dailyGoalInput = document.getElementById('dailyGoalInput');
        if (dailyGoalInput) {
            dailyGoalInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    saveDailyGoal();
                }
            });
        }

        // Claude's Suggestion Rotation
        const suggestions = [
            {
                emoji: 'üéØ',
                title: 'Focus time available',
                description: 'Your calendar is clear after 2 PM. Perfect for deep work on your most important tasks.',
                action: 'scheduleFocusTime',
                buttonText: 'Schedule Focus Time'
            },
            {
                emoji: '‚ö†Ô∏è',
                title: 'Maintain your streak',
                description: 'You haven\'t logged yesterday\'s journal. A quick entry will keep your momentum going.',
                action: 'catchUpJournal',
                buttonText: 'Log Yesterday'
            },
            {
                emoji: 'üìà',
                title: 'Great progress this week',
                description: 'You\'ve completed 12 tasks - 20% more than last week. Keep up the excellent work!',
                action: 'viewProgress',
                buttonText: 'View Progress'
            }
        ];

        let currentSuggestion = 0;

        function rotateSuggestion() {
            const container = document.getElementById('mainSuggestionContainer');
            if (!container) {
                console.warn('mainSuggestionContainer not found, skipping suggestion rotation');
                return;
            }

            const suggestion = suggestions[currentSuggestion];

            container.innerHTML = `
                <p class="text-xl text-white mb-4">${suggestion.emoji} ${suggestion.title}</p>
                <p class="text-lg text-gray-400 mb-6">${suggestion.description}</p>
                <button onclick="${suggestion.action}()" class="px-8 py-4 bg-gradient-to-r from-[#6366f1] to-[#06b6d4] text-white rounded-2xl hover:from-[#6366f1]/80 hover:to-[#06b6d4]/80 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl ">
                    ${suggestion.buttonText}
                </button>
            `;

            currentSuggestion = (currentSuggestion + 1) % suggestions.length;
        }

        // Rotate suggestions every 10 seconds - disabled to prevent null reference errors
        // setInterval(rotateSuggestion, 10000);

        // Initial suggestion load (start with the progress suggestion)
        currentSuggestion = 2; // Start with the progress suggestion
        rotateSuggestion();

        // Minimalist Robot Interactions - Simple and Clean
        function makeRobotHappy() {
            const robot = document.querySelector('.robot');
            const robotEyes = document.querySelectorAll('.robot-eye');
            const robotMouth = document.querySelector('.robot-mouth');
            const robotHead = document.querySelector('.robot-head');
            const robotBody = document.querySelector('.robot-body');

            // Make robot super happy with enhanced animations
            robot.style.animation = 'float 1.5s ease-in-out infinite, bounce 0.4s ease-in-out 4';

            // Make eyes brighter
            robotEyes.forEach((eye, index) => {
                eye.style.boxShadow = '0 6px 16px rgba(74, 144, 226, 0.5), inset 0 2px 6px rgba(255, 255, 255, 0.5)';
                eye.style.animation = `simplePulse 0.5s ease-in-out infinite alternate`;
                eye.style.animationDelay = `${index * 0.05}s`;
            });

            // Make mouth smile bigger
            robotMouth.style.width = '40px';
            robotMouth.style.height = '20px';
            robotMouth.style.borderWidth = '3px';

            // Enhance head and body glow
            robotHead.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.2), 0 10px 20px rgba(0, 0, 0, 0.1), inset 0 4px 8px rgba(255, 255, 255, 0.9), inset 0 -4px 8px rgba(0, 0, 0, 0.08)';
            robotBody.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.15), 0 5px 10px rgba(0, 0, 0, 0.08), inset 0 2px 4px rgba(255, 255, 255, 0.9), inset 0 -2px 4px rgba(0, 0, 0, 0.08)';

            // Reset after animation
            setTimeout(() => {
                robot.style.animation = 'float 3s ease-in-out infinite';
                robotEyes.forEach(eye => {
                    eye.style.animation = 'simplePulse 4s ease-in-out infinite';
                });
                robotMouth.style.width = '30px';
                robotMouth.style.height = '15px';
                robotMouth.style.borderWidth = '2px';
            }, 3000);
        }

        function makeRobotExcited() {
            // Robot elements don't exist - disabling to prevent errors
            console.log('makeRobotExcited called - disabled');
            return;
        }

        // Add enhanced animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes bounce {
                0%, 100% { transform: translateY(0px) scale(1); }
                25% { transform: translateY(-15px) scale(1.05); }
                75% { transform: translateY(-8px) scale(1.02); }
            }

            @keyframes wiggle {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                25% { transform: translateY(-3px) rotate(-2deg); }
                75% { transform: translateY(-3px) rotate(2deg); }
            }

            @keyframes think {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-3px); }
            }
        `;
        document.head.appendChild(style);

        // Robot reactions to user actions
        // Make robot excited when user clicks on Claude's Insight buttons
        function addRobotReactionToButtons() {
            // Disabled - robot elements don't exist
            console.log('addRobotReactionToButtons called - disabled');
            return;
        }

        // Add reactions to buttons after page load
        setTimeout(() => {
            addRobotReactionToButtons();
        }, 1500);

        // Re-add reactions when suggestions rotate
        const originalRotateSuggestion = rotateSuggestion;
        rotateSuggestion = function() {
            const result = originalRotateSuggestion.call(this);
            setTimeout(() => {
                addRobotReactionToButtons();
            }, 100);
            return result;
        };

        // Robot greeting on page load - make it extra excited
        setTimeout(() => {
            makeRobotExcited();
        }, 1000);

        function showModal(title, content) {
            const modal = document.getElementById('resultModal');
            const resultContent = document.getElementById('resultContent');

            resultContent.innerHTML = `
                <h4 class="text-lg font-semibold mb-3">${title}</h4>
                <div class="text-gray-700">${content}</div>
            `;

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            const modal = document.getElementById('resultModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        async function startWebSearch() {
            const query = prompt('What would you like to search for?');
            if (query) {
                showModal('Web Search', `<p class="typing-indicator">Searching for "${query}"...</p>`);

                // Simulate search delay
                setTimeout(() => {
                    showModal('Web Search Results', `
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Found 5 results for "${query}"</h5>
                                <ul class="space-y-2">
                                    <li><a href="#" class="text-blue-600 hover:underline">Result 1: Latest information about ${query}</a></li>
                                    <li><a href="#" class="text-blue-600 hover:underline">Result 2: Comprehensive guide to ${query}</a></li>
                                    <li><a href="#" class="text-blue-600 hover:underline">Result 3: ${query} best practices and tips</a></li>
                                </ul>
                            </div>
                        </div>
                    `);
                }, 2000);
            }
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                showModal('Image Analysis', `<p class="typing-indicator">Analyzing image: ${file.name}</p>`);

                setTimeout(() => {
                    showModal('Image Analysis Results', `
                        <div class="space-y-4">
                            <img src="https://picsum.photos/seed/analysis/400/300.jpg" alt="Analyzed image" class="w-full rounded-lg">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Analysis Summary</h5>
                                <p>The image appears to be a modern dashboard interface with clean design elements. Key features identified:</p>
                                <ul class="mt-2 space-y-1">
                                    <li>‚Ä¢ Clean, minimalist layout</li>
                                    <li>‚Ä¢ Professional color scheme</li>
                                    <li>‚Ä¢ Responsive design elements</li>
                                    <li>‚Ä¢ User-friendly interface</li>
                                </ul>
                            </div>
                        </div>
                    `);
                }, 2500);
            }
        }

        function handleVideoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                showModal('Video Analysis', `<p class="typing-indicator">Processing video: ${file.name}</p>`);

                setTimeout(() => {
                    showModal('Video Analysis Results', `
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Video Analysis Complete</h5>
                                <p><strong>Duration:</strong> ${Math.floor(Math.random() * 10 + 1)} minutes</p>
                                <p><strong>Format:</strong> MP4</p>
                                <p><strong>Quality:</strong> High Definition</p>
                                <p class="mt-3">The video content has been analyzed and key insights extracted successfully.</p>
                            </div>
                        </div>
                    `);
                }, 3000);
            }
        }

        function handleDocumentUpload(event) {
            const file = event.target.files[0];
            if (file) {
                showModal('Document Processing', `<p class="typing-indicator">Processing document: ${file.name}</p>`);

                setTimeout(() => {
                    showModal('Document Processing Results', `
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Document Analysis Complete</h5>
                                <p><strong>Type:</strong> ${file.type || 'Unknown'}</p>
                                <p><strong>Size:</strong> ${(file.size / 1024).toFixed(2)} KB</p>
                                <p><strong>Pages:</strong> ${Math.floor(Math.random() * 20 + 1)}</p>
                                <p class="mt-3">Document has been processed and text extracted successfully. Key topics identified and summary generated.</p>
                            </div>
                        </div>
                    `);
                }, 2000);
            }
        }

        function startCodeAssistant() {
            const codeQuery = prompt('What coding task can I help you with?');
            if (codeQuery) {
                showModal('Code Assistant', `<p class="typing-indicator">Generating solution for: ${codeQuery}</p>`);

                setTimeout(() => {
                    showModal('Code Assistant Results', `
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Generated Code</h5>
                                <pre class="bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto"><code>// Solution for ${codeQuery}
function solveProblem() {
    // Implementation here
    console.log("Problem solved!");
    return true;
}

// Usage example
solveProblem();</code></pre>
                                <p class="mt-3 text-sm text-gray-600">Code has been generated and tested. You can copy and use this solution directly.</p>
                            </div>
                        </div>
                    `);
                }, 1500);
            }
        }

        function startResearch() {
            const topic = prompt('What topic would you like me to research?');
            if (topic) {
                showModal('Research Assistant', `<p class="typing-indicator">Conducting deep research on: ${topic}</p>`);

                setTimeout(() => {
                    showModal('Research Results', `
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h5 class="font-semibold mb-2">Research Summary: ${topic}</h5>
                                <div class="space-y-3">
                                    <div>
                                        <h6 class="font-medium">Key Findings:</h6>
                                        <ul class="mt-1 space-y-1 text-sm">
                                            <li>‚Ä¢ Important insight about ${topic}</li>
                                            <li>‚Ä¢ Critical analysis and observations</li>
                                            <li>‚Ä¢ Expert opinions and consensus</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h6 class="font-medium">Sources:</h6>
                                        <p class="text-sm text-gray-600 mt-1">Research conducted across multiple authoritative sources and verified for accuracy.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `);
                }, 3500);
            }
        }

        // Beautiful Robot Emotion System
        const emotions = ['happy', 'excited', 'curious', 'thinking', 'sleepy'];
        let currentEmotion = 0;
        let emotionInterval;
        let isInteracting = false;

        function startEmotionCycle() {
            // Change emotion every 3.5 seconds for more dynamic interaction
            emotionInterval = setInterval(changeEmotion, 3500);
            // Start with happy emotion
            currentEmotion = 0;
            changeEmotion();
        }

        function changeEmotion() {
            // Disabled - robot elements don't exist
            console.log('changeEmotion called - disabled');
            return;
        }

        function setRobotEmotion(emotionName) {
            // Disabled - robot elements don't exist
            console.log('setRobotEmotion called - disabled');
            return;
        }

        function pauseEmotionCycle() {
            clearInterval(emotionInterval);
        }

        function resumeEmotionCycle() {
            startEmotionCycle();
        }

        function showEmotionNotification(emotion) {
            const emotionEmojis = {
                'happy': 'üòä',
                'excited': 'üéâ',
                'curious': 'ü§î',
                'thinking': 'üí≠',
                'sleepy': 'üò¥'
            };

            const emotionDescriptions = {
                'happy': 'Robot is feeling happy!',
                'excited': 'Robot is super excited!',
                'curious': 'Robot is curious about something...',
                'thinking': 'Robot is deep in thought...',
                'sleepy': 'Robot is feeling sleepy...'
            };

            showNotification(`${emotionEmojis[emotion]} ${emotionDescriptions[emotion]}`);
        }

        function makeRobotInteractive() {
            const robot = document.querySelector('.robot');

            // Add click interaction - show random emotion
            robot.addEventListener('click', function() {
                isInteracting = true;
                const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
                setRobotEmotion(randomEmotion);

                // Add bounce animation
                robot.style.animation = 'none';
                setTimeout(() => {
                    robot.style.animation = 'elegantFloat 0.5s ease-in-out infinite';
                }, 10);

                setTimeout(() => {
                    robot.style.animation = '';
                    isInteracting = false;
                }, 500);
            });

            // Add hover effect - show excited emotion
            robot.addEventListener('mouseenter', function() {
                isInteracting = true;
                setRobotEmotion('excited');
            });

            robot.addEventListener('mouseleave', function() {
                isInteracting = false;
            });

            // Add double click for happy emotion
            robot.addEventListener('dblclick', function() {
                isInteracting = true;
                setRobotEmotion('happy');

                setTimeout(() => {
                    isInteracting = false;
                }, 2000);
            });
        }

        // Add emotion control buttons
        function addEmotionControls() {
            // Disabled - robot elements don't exist
            console.log('addEmotionControls called - disabled');
            return;
        }

        function getEmotionEmoji(emotion) {
            controlPanel.className = 'emotion-controls';
            controlPanel.style.cssText = `
                position: absolute;
                bottom: -60px;
                left: 50%;
                transform: translateX(-50%);
                display: flex;
                gap: 8px;
                background: rgba(255, 255, 255, 0.1);
                padding: 8px;
                border-radius: 20px;
                backdrop-filter: blur(10px);
            `;

            emotions.forEach(emotion => {
                const button = document.createElement('button');
                button.className = 'emotion-btn';
                button.innerHTML = getEmotionEmoji(emotion);
                button.title = emotion.charAt(0).toUpperCase() + emotion.slice(1);
                button.style.cssText = `
                    width: 35px;
                    height: 35px;
                    border: none;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.2);
                    cursor: pointer;
                    font-size: 18px;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                `;

                button.addEventListener('click', function() {
                    isInteracting = true;
                    setRobotEmotion(emotion);
                    setTimeout(() => {
                        isInteracting = false;
                    }, 1000);
                });

                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.2)';
                    this.style.background = 'rgba(255, 255, 255, 0.3)';
                });

                button.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.background = 'rgba(255, 255, 255, 0.2)';
                });

                controlPanel.appendChild(button);
            });

            robotContainer.appendChild(controlPanel);
        }

        function getEmotionEmoji(emotion) {
            const emotionEmojis = {
                'happy': 'üòä',
                'excited': 'üéâ',
                'curious': 'ü§î',
                'thinking': 'üí≠',
                'sleepy': 'üò¥'
            };
            return emotionEmojis[emotion] || 'ü§ñ';
        }

        // Interactive robot controls
        function makeRobotInteractive() {
            const robot = document.querySelector('.robot');

            // Add click interaction
            robot.addEventListener('click', function() {
                // Random emotion on click
                const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
                setRobotEmotion(randomEmotion);

                // Add a little bounce animation
                robot.style.animation = 'none';
                setTimeout(() => {
                    robot.style.animation = 'float 0.5s ease-in-out infinite';
                }, 10);

                setTimeout(() => {
                    robot.style.animation = '';
                }, 500);

                showNotification(`Robot is feeling ${randomEmotion}! ü§ñ`);
            });

            // Add hover effect
            robot.addEventListener('mouseenter', function() {
                pauseEmotionCycle();
                setRobotEmotion('excited');
            });

            robot.addEventListener('mouseleave', function() {
                resumeEmotionCycle();
            });
        }

        // Initialize emotion system when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // All robot functions disabled to prevent errors
            console.log('Robot DOMContentLoaded events disabled');
        });

        // Energy Tracking System
        // energyEmotions moved to top of script to ensure early initialization

        function setEnergyGoal() {
            const selector = document.getElementById('goalSelector');
            const goalLevel = selector.value;

            if (!goalLevel) {
                showNotification('Please select an energy goal ‚ö°');
                return;
            }

            // Get emotion data
            const emotions = {
                700: {name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600'},
                600: {name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600'},
                540: {name: 'Joy', emoji: 'üòä', color: 'bg-blue-600'},
                500: {name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600'},
                400: {name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600'},
                350: {name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600'},
                310: {name: 'Willingness', emoji: 'üí™', color: 'bg-orange-600'},
                250: {name: 'Neutrality', emoji: 'üòê', color: 'bg-gray-500'},
                200: {name: 'Courage', emoji: 'ü¶Å', color: 'bg-yellow-500'},
                175: {name: 'Pride', emoji: 'üòé', color: 'bg-orange-500'},
                150: {name: 'Anger', emoji: 'üò°', color: 'bg-red-500'},
                125: {name: 'Desire', emoji: 'üî•', color: 'bg-orange-600'},
                100: {name: 'Fear', emoji: 'üò®', color: 'bg-red-400'},
                75: {name: 'Grief', emoji: 'üò¢', color: 'bg-red-300'},
                50: {name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-400'},
                30: {name: 'Guilt', emoji: 'üòî', color: 'bg-red-500'},
                20: {name: 'Shame', emoji: 'üòû', color: 'bg-red-600'}
            };

            const emotion = emotions[goalLevel];
            if (!emotion) return;

            // Save to localStorage
            localStorage.setItem('weeklyEnergyGoal', goalLevel);
            localStorage.setItem('goalWeek', getWeekNumber());

            // Update display
            updateGoalDisplay(goalLevel, emotion);

            // Update card background color
            updateGoalCardColor(goalLevel);

            showNotification(`Energy goal set: ${emotion.emoji} ${emotion.name} (${goalLevel}) ‚ö°`);
        }

        function updateGoalDisplay(goalLevel, emotion) {
            // Show the goal display section
            const displaySection = document.getElementById('currentGoalDisplay');
            displaySection.classList.remove('hidden');

            // Update goal content
            document.getElementById('goalEmoji').textContent = emotion.emoji;
            document.getElementById('goalName').textContent = emotion.name;
            document.getElementById('goalLevel').textContent = `(${goalLevel})`;
        }

        function updateGoalCardColor(goalLevel) {
            const card = document.getElementById('goalCard');
            const level = parseInt(goalLevel);

            // Remove existing color classes
            card.className = card.className.replace(/bg-gradient-to-[^s]+\s+/g, '');

            // Add appropriate color based on level
            let colorClass = 'from-slate-800 to-slate-700'; // default
            if (level >= 600) {
                colorClass = 'from-purple-900/30 to-indigo-900/30'; // High consciousness
            } else if (level >= 400) {
                colorClass = 'from-blue-900/30 to-green-900/30'; // Mid-high consciousness
            } else if (level >= 200) {
                colorClass = 'from-yellow-900/30 to-orange-900/30'; // Mid consciousness
            } else {
                colorClass = 'from-red-900/30 to-gray-900/30'; // Low consciousness
            }

            card.classList.add('bg-gradient-to-br', colorClass);
        }

        function updateGoalProgress() {
            // Get current week's energy data
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            const today = new Date();
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1;
            monday.setDate(today.getDate() - daysFromMonday);

            let daysLogged = 0;
            let totalEnergy = 0;

            // Check each day of the current week
            for (let i = 0; i < 7; i++) {
                const targetDate = new Date(monday);
                targetDate.setDate(monday.getDate() + parseInt(i));
                const dateKey = targetDate.getFullYear() + '-' +
                               String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                               String(targetDate.getDate()).padStart(2, '0');

                const dayEntry = energyHistory.find(entry => entry.date === dateKey);
                if (dayEntry) {
                    daysLogged++;
                    totalEnergy += parseInt(dayEntry.energyLevel);
                }
            }

            // Update days progress
            document.getElementById('daysProgress').textContent = `${daysLogged}/7 days`;
            const daysProgressPercent = (daysLogged / 7) * 100;
            document.getElementById('daysProgressBar').style.width = `${daysProgressPercent}%`;

            // Update average
            if (daysLogged > 0) {
                const average = Math.round(totalEnergy / daysLogged);
                const emotions = {
                    700: 'Enlightenment', 600: 'Peace', 540: 'Joy', 500: 'Love',
                    400: 'Reason', 350: 'Acceptance', 310: 'Willingness', 250: 'Neutrality',
                    200: 'Courage', 175: 'Pride', 150: 'Anger', 125: 'Desire',
                    100: 'Fear', 75: 'Grief', 50: 'Apathy', 30: 'Guilt', 20: 'Shame'
                };

                const emotionName = emotions[average] || 'Unknown';
                document.getElementById('weeklyAverage').textContent = `${average} - ${emotionName}`;

                // Update average progress bar
                const averagePercent = (average / 700) * 100;
                const averageBar = document.getElementById('averageProgressBar');
                averageBar.style.width = `${averagePercent}%`;

                // Color code the average bar
                if (average >= 600) {
                    averageBar.className = 'bg-purple-500 h-3 rounded-full transition-all duration-500';
                } else if (average >= 400) {
                    averageBar.className = 'bg-indigo-500 h-3 rounded-full transition-all duration-500';
                } else if (average >= 200) {
                    averageBar.className = 'bg-yellow-500 h-3 rounded-full transition-all duration-500';
                } else {
                    averageBar.className = 'bg-red-500 h-3 rounded-full transition-all duration-500';
                }
            } else {
                document.getElementById('weeklyAverage').textContent = 'Calculating...';
                document.getElementById('averageProgressBar').style.width = '0%';
            }
        }

        function loadWeeklyGoal() {
            const savedGoal = localStorage.getItem('weeklyEnergyGoal');
            const goalWeek = localStorage.getItem('goalWeek');
            const currentWeek = getWeekNumber();

            if (savedGoal && goalWeek === currentWeek) {
                // Set the selector value
                const selector = document.getElementById('goalSelector');
                selector.value = savedGoal;

                // Get emotion data and update display
                const emotions = {
                    700: {name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600'},
                    600: {name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600'},
                    540: {name: 'Joy', emoji: 'üòä', color: 'bg-blue-600'},
                    500: {name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600'},
                    400: {name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600'},
                    350: {name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600'},
                    310: {name: 'Willingness', emoji: 'üí™', color: 'bg-orange-600'},
                    250: {name: 'Neutrality', emoji: 'üòê', color: 'bg-gray-500'},
                    200: {name: 'Courage', emoji: 'ü¶Å', color: 'bg-yellow-500'},
                    175: {name: 'Pride', emoji: 'üòé', color: 'bg-orange-500'},
                    150: {name: 'Anger', emoji: 'üò°', color: 'bg-red-500'},
                    125: {name: 'Desire', emoji: 'üî•', color: 'bg-orange-600'},
                    100: {name: 'Fear', emoji: 'üò®', color: 'bg-red-400'},
                    75: {name: 'Grief', emoji: 'üò¢', color: 'bg-red-300'},
                    50: {name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-400'},
                    30: {name: 'Guilt', emoji: 'üòî', color: 'bg-red-500'},
                    20: {name: 'Shame', emoji: 'üòû', color: 'bg-red-600'}
                };

                const emotion = emotions[savedGoal];
                if (emotion) {
                    updateGoalDisplay(savedGoal, emotion);
                    updateGoalCardColor(savedGoal);
                }
            } else {
                // Hide display if no goal for current week
                document.getElementById('currentGoalDisplay').classList.add('hidden');
                // Reset card color
                const card = document.getElementById('goalCard');
                card.className = card.className.replace(/bg-gradient-to-[^s]+\s+/g, '');
            }

                    }

        function getWeekNumber() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 1);
            const diff = now - start;
            const oneWeek = 1000 * 60 * 60 * 24 * 7;
            return Math.floor(diff / oneWeek);
        }

        function openEnergyModal(dayIndex) {
            const energyModalElement = document.getElementById('energyModal');
            if (!energyModalElement) {
                console.error('Energy modal not found');
                return;
            }

            energyModalElement.classList.remove('hidden');
            energyModalElement.dataset.dayIndex = dayIndex;

            // Set the day name for the modal
            const today = new Date();
            const targetDate = new Date(today);
            targetDate.setDate(today.getDate() - parseInt(dayIndex));

            let dayName = 'Today';
            if (dayIndex === '0') {
                dayName = 'Today';
            } else if (dayIndex === '1') {
                dayName = 'Yesterday';
            } else {
                dayName = targetDate.toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' });
            }

            const modalDayNameElement = document.getElementById('modalDayName');
            if (modalDayNameElement) {
                modalDayNameElement.textContent = dayName;
            }
        }

        function closeEnergyModal() {
            const energyModalElement = document.getElementById('energyModal');
            if (energyModalElement) {
                energyModalElement.classList.add('hidden');
            }
        }

        function selectEnergy(energyLevel) {
            const energyModalElement = document.getElementById('energyModal');
            if (!energyModalElement) {
                console.error('Energy modal not found');
                return;
            }
            const dayIndex = energyModalElement.dataset.dayIndex;
            const today = new Date();
            const targetDate = new Date(today);
            targetDate.setDate(today.getDate() - parseInt(dayIndex));

            // Use local date format to avoid timezone issues
            const dateKey = targetDate.getFullYear() + '-' +
                           String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                           String(targetDate.getDate()).padStart(2, '0');
            const emotion = energyEmotions[energyLevel];

            // Save to localStorage
            let energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            energyHistory.push({
                date: dateKey,
                energyLevel: energyLevel,
                emotion: emotion.name,
                emoji: emotion.emoji
            });
            localStorage.setItem('energyHistory', JSON.stringify(energyHistory));

            // Update UI
            updateDayButton(dayIndex, emotion);
            closeEnergyModal();
            updateHistoryDisplay();

            showNotification(`${emotion.emoji} ${emotion.name} (${energyLevel}) logged for ${formatDate(targetDate)}`);
        }

        function updateDayButton(dayIndex, emotion) {
            const dayButton = document.getElementById(`day-${dayIndex}`);
            if (!dayButton) {
                console.error('Day button not found:', dayIndex);
                return;
            }

            if (!emotion || !emotion.emoji) {
                console.error('Invalid emotion object:', emotion);
                return;
            }

            // Update button content while preserving proper centering
            dayButton.innerHTML = `<span class="text-lg leading-none">${emotion.emoji}</span>`;
            dayButton.className = `day-btn w-14 h-14 rounded-2xl border-0 flex items-center justify-center text-white font-bold transition-all shadow-xl ${emotion.color}`;

            // Update energy name label
            const energyNameElement = document.getElementById(`energy-name-${dayIndex}`);
            if (energyNameElement) {
                energyNameElement.textContent = emotion.name;
            }
        }

        function updateWeeklyProgress() {
            const weekStart = new Date();
            weekStart.setDate(weekStart.getDate() - 6);
            const weekEnd = new Date();

            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            const weekEntries = energyHistory.filter(entry => {
                const entryDate = new Date(entry.date);
                return entryDate >= weekStart && entryDate <= weekEnd;
            });

            if (weekEntries.length > 0) {
                const avgEnergy = weekEntries.reduce((sum, entry) => sum + entry.energyLevel, 0) / weekEntries.length;
                const avgEmotion = getClosestEmotion(avgEnergy);

                const weeklyAverageElement = document.getElementById('weeklyAverage');
                if (weeklyAverageElement) {
                    weeklyAverageElement.textContent = `${avgEmotion.emoji} ${avgEmotion.name} (${Math.round(avgEnergy)})`;
                }

                const weekProgressElement = document.getElementById('weekProgress');
                if (weekProgressElement) {
                    weekProgressElement.textContent = `${weekEntries.length}/7 days logged`;
                }
            }
        }

        function getClosestEmotion(energyLevel) {
            // Check if energyEmotions is available
            if (typeof energyEmotions === 'undefined') {
                console.error('energyEmotions not initialized yet in getClosestEmotion');
                return { name: 'Unknown', emoji: '‚ùì', color: 'bg-gray-600' };
            }

            const levels = Object.keys(energyEmotions).map(Number).sort((a, b) => b - a);
            return levels.find(level => level <= energyLevel) ?
                energyEmotions[levels.find(level => level <= energyLevel)] :
                energyEmotions[20];
        }

        function quickLogEnergy(energyLevel) {
            selectEnergy(energyLevel);
        }

        function selectEnergyForDay(dayIndex, energyLevel) {

            // Check if energyEmotions is available
            if (typeof energyEmotions === 'undefined') {
                return;
            }

            const today = new Date();
            const targetDate = new Date(today);
            targetDate.setDate(today.getDate() - parseInt(dayIndex));

            // Use local date format to avoid timezone issues
            const dateKey = targetDate.getFullYear() + '-' +
                           String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                           String(targetDate.getDate()).padStart(2, '0');
            const emotion = energyEmotions[energyLevel];

            if (!emotion) {
                return;
            }

            // Save to localStorage
            let energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');

            // Remove existing entry for this date if it exists
            energyHistory = energyHistory.filter(entry => entry.date !== dateKey);

            // Add new entry
            energyHistory.push({
                date: dateKey,
                energyLevel: energyLevel,
                emotion: emotion.name,
                emoji: emotion.emoji
            });
            localStorage.setItem('energyHistory', JSON.stringify(energyHistory));

            // Update UI immediately
            updateDayButton(dayIndex, emotion);
            updateHistoryDisplay();

            // Close the dropdown immediately after selection
            closeAllDropdowns();
            
            showNotification(`${emotion.emoji} ${emotion.name} (${energyLevel}) logged for ${getDayName(dayIndex)}`);
        }

        function selectEnergyForDay(dayIndex, energyLevel) {
            // Check if energyEmotions is available
            if (typeof energyEmotions === 'undefined') {
                return;
            }

            // Calculate date based on Monday-to-Sunday order
            const today = new Date();
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1; // Sunday = 0, so 6 days back
            monday.setDate(today.getDate() - daysFromMonday);

            const targetDate = new Date(monday);
            targetDate.setDate(monday.getDate() + parseInt(dayIndex));

            // Use local date format to avoid timezone issues
            const dateKey = targetDate.getFullYear() + '-' +
                           String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                           String(targetDate.getDate()).padStart(2, '0');
            const emotion = energyEmotions[energyLevel];

            if (!emotion) {
                return;
            }

            // Save to localStorage
            let energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');

            // Remove ALL existing entries for this date to prevent duplicates
            energyHistory = energyHistory.filter(entry => entry.date !== dateKey);

            // Add new entry
            const newEntry = {
                date: dateKey,
                energyLevel: energyLevel,
                emotion: emotion.name,
                emoji: emotion.emoji
            };
            energyHistory.push(newEntry);

            localStorage.setItem('energyHistory', JSON.stringify(energyHistory));

            // Update UI immediately
            updateDayButton(dayIndex, emotion);
            updateHistoryDisplay();

            showNotification(`${emotion.emoji} ${emotion.name} (${energyLevel}) logged for ${getDayName(dayIndex)}`);
        }

        // Global flag to prevent dropdown reopening
        let dropdownClosingInProgress = false;

        
        // Test function for Energy History - run from console
        function testEnergyHistory() {
            console.log('=== Testing Energy History ===');

            // Test 1: Check if modal exists
            const modal = document.getElementById('historyModal');
            console.log('History modal exists:', !!modal);
            if (modal) {
                console.log('Modal classes:', modal.className);
                console.log('Modal display:', modal.style.display);
            }

            // Test 2: Check if content element exists
            const content = document.getElementById('historyContent');
            console.log('History content exists:', !!content);
            if (content) {
                console.log('Content HTML:', content.innerHTML.substring(0, 100));
            }

            // Test 3: Check localStorage data
            const data = localStorage.getItem('energyHistory');
            console.log('LocalStorage data exists:', !!data);
            if (data) {
                const parsed = JSON.parse(data);
                console.log('Parsed data length:', parsed.length);
                console.log('First entry:', parsed[0]);
            }

            // Test 4: Open modal
            console.log('Opening modal...');
            openHistoryModal();
        }

        // Simple wrapper function that both selects energy AND closes dropdown
        function selectEnergyAndClose(dayIndex, energyLevel) {
            console.log('=== selectEnergyAndClose called ===');
            console.log('dayIndex:', dayIndex, 'energyLevel:', energyLevel);

            // Prevent multiple simultaneous calls
            if (dropdownClosingInProgress) {
                console.log('Dropdown already closing, ignoring call');
                return false;
            }

            dropdownClosingInProgress = true;

            try {
                selectEnergyForDay(dayIndex, energyLevel);

                // Force close dropdown immediately with multiple methods
                const dropdown = document.getElementById(`dropdown-${dayIndex}`);
                if (dropdown) {
                    console.log('Closing dropdown for day', dayIndex);
                    console.log('Before close - classes:', dropdown.className);
                    console.log('Before close - display:', dropdown.style.display);

                    // Method 1: Add hidden class
                    dropdown.classList.add('hidden');

                    // Method 2: Hide with style
                    dropdown.style.display = 'none';
                    dropdown.style.visibility = 'hidden';
                    dropdown.style.opacity = '0';
                    dropdown.style.pointerEvents = 'none';

                    // Method 3: Add a timeout to ensure it stays closed
                    setTimeout(() => {
                        dropdown.classList.add('hidden');
                        dropdown.style.display = 'none';
                        dropdown.style.visibility = 'hidden';
                    }, 100);

                    console.log('After close - classes:', dropdown.className);
                    console.log('After close - display:', dropdown.style.display);

                    // Also close ALL other dropdowns
                    closeAllDropdowns();
                } else {
                    console.error('Dropdown not found for day:', dayIndex);
                }
            } catch (error) {
                console.error('Error in selectEnergyAndClose:', error);
            }

            // Reset flag after a short delay
            setTimeout(() => {
                dropdownClosingInProgress = false;
            }, 200);

            return false; // Prevent default behavior
        }

        // Test function - call this from console to test dropdown close
        function testDropdownClose(dayIndex) {
            console.log('=== Testing dropdown close for day', dayIndex, '===');
            const dropdown = document.getElementById(`dropdown-${dayIndex}`);
            if (dropdown) {
                console.log('Found dropdown:', dropdown);
                console.log('Current classes:', dropdown.className);
                console.log('Current display:', dropdown.style.display);

                dropdown.classList.add('hidden');
                dropdown.style.display = 'none';
                console.log('After hiding - classes:', dropdown.className);
                console.log('After hiding - display:', dropdown.style.display);
            } else {
                console.log('Dropdown not found for day:', dayIndex);
            }
        }

        // Debug function to test dropdown closing
        function debugDropdown(dayIndex) {
            const dropdown = document.getElementById(`dropdown-${dayIndex}`);
            if (dropdown) {
                console.log('Dropdown found:', dropdown);
                console.log('Classes:', dropdown.className);
                console.log('Display style:', window.getComputedStyle(dropdown).display);
                console.log('Visibility:', window.getComputedStyle(dropdown).visibility);
                console.log('Is hidden?:', dropdown.classList.contains('hidden'));

                // Test closing
                dropdown.classList.add('hidden');
                console.log('After adding hidden class - Is hidden?:', dropdown.classList.contains('hidden'));
            } else {
                console.log('Dropdown not found for day:', dayIndex);
            }
        }

        // Test function to manually close all dropdowns
        function forceCloseAllDropdowns() {
            console.log('=== Force closing all dropdowns ===');
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    console.log('Closing dropdown for day', i);
                    dropdown.classList.add('hidden');
                    dropdown.style.display = 'none';
                    setTimeout(() => {
                        dropdown.style.display = '';
                    }, 10);
                }
            }
        }

        function getDayName(dayIndex) {
            // Calculate date based on Monday-to-Sunday order
            const today = new Date();
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1; // Sunday = 0, so 6 days back
            monday.setDate(today.getDate() - daysFromMonday);

            const targetDate = new Date(monday);
            targetDate.setDate(monday.getDate() + parseInt(dayIndex));

            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            return days[targetDate.getDay()] + ' ' + targetDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        }

        function toggleDayDropdown(dayIndex) {
            console.log('toggleDayDropdown called with day:', dayIndex);

            // Check if DOM is ready
            if (document.readyState !== 'complete') {
                console.log('DOM not ready, waiting...');
                document.addEventListener('DOMContentLoaded', function() {
                    toggleDayDropdown(dayIndex);
                });
                return;
            }

            // Debug: Check if all dropdown elements exist
            console.log('Checking dropdown elements:');
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                console.log(`dropdown-${i} exists:`, !!dropdown);
                if (dropdown) {
                    console.log(`dropdown-${i} classes:`, dropdown.className);
                    console.log(`dropdown-${i} display:`, window.getComputedStyle(dropdown).display);
                }
            }

            // Close all dropdowns first
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    dropdown.classList.add('hidden');
                    // Reset inline styles to ensure they're hidden
                    dropdown.style.display = '';
                    dropdown.style.visibility = '';
                    dropdown.style.opacity = '';
                    dropdown.style.zIndex = '';
                }
            }

            // Toggle the clicked dropdown
            const dropdown = document.getElementById(`dropdown-${dayIndex}`);
            if (dropdown) {
                dropdown.classList.remove('hidden');
                // Force visibility with inline styles as backup
                dropdown.style.display = 'block';
                dropdown.style.visibility = 'visible';
                dropdown.style.opacity = '1';
                dropdown.style.zIndex = '9999';

                console.log('Dropdown should be visible now for day:', dayIndex);
                console.log('Dropdown classes after removal:', dropdown.className);
                console.log('Dropdown styles after forcing visibility:', {
                    display: dropdown.style.display,
                    visibility: dropdown.style.visibility,
                    opacity: dropdown.style.opacity,
                    zIndex: dropdown.style.zIndex
                });
            } else {
                console.error('Dropdown not found for day:', dayIndex);
            }
        }

        function closeAllDropdowns() {
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    dropdown.classList.add('hidden');
                    // Force close with style as backup
                    dropdown.style.display = 'none';
                    setTimeout(() => {
                        dropdown.style.display = '';
                    }, 10);
                }
            }
        }

        // Close dropdowns when clicking outside (but not on day buttons)
        document.addEventListener('click', function(event) {
            // Don't close if clicking on a day button or inside a dropdown
            if (event.target.closest('.day-btn') || event.target.closest('[id^="dropdown-"]')) {
                return;
            }

            // Close all dropdowns
            for (let i = 0; i < 7; i++) {
                const dropdown = document.getElementById(`dropdown-${i}`);
                if (dropdown) {
                    dropdown.classList.add('hidden');
                }
            }
        });

        function openHistoryModal() {
            const historyModalElement = document.getElementById('historyModal');

            if (historyModalElement) {
                historyModalElement.classList.remove('hidden');
                historyModalElement.style.display = 'flex';
                updateHistoryDisplay();
            } else {
                // historyModal element not found
            }
        }

        function closeHistoryModal() {
            const historyModalElement = document.getElementById('historyModal');
            if (historyModalElement) {
                historyModalElement.classList.add('hidden');
                historyModalElement.style.display = 'none';
            }
        }

        function updateHistoryDisplay() {
            // Use exactly the same data loading logic as Daily Energy Tracker
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');

            // Update main Energy History display - use exact same logic as debug panel
            const historyDisplay = document.getElementById('historyDisplay');
            if (historyDisplay) {
                if (energyHistory.length === 0) {
                    historyDisplay.innerHTML = '<p class="text-gray-500 text-center">No energy logs yet this week</p>';
                } else {
                    // Sort by date (newest first) - exact same logic as debug panel
                    const sortedHistory = [...energyHistory].sort((a, b) => {
                        const dateA = new Date(a.date + 'T00:00:00');
                        const dateB = new Date(b.date + 'T00:00:00');
                        return dateB - dateA;
                    });

                    
                    let html = '<div class="space-y-2">';

                    sortedHistory.slice(0, 7).forEach((entry, index) => {
                        const entryDate = new Date(entry.date);
                        const today = new Date();

                        // Always show the actual date to avoid confusion
                        const displayDate = entryDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });

                        html += `
                            <div class="flex justify-between items-center bg-slate-800/50 rounded-lg p-3">
                                <span class="text-gray-400 text-sm">${displayDate}</span>
                                <span class="text-sm">${entry.emoji} ${entry.emotion} (${entry.energyLevel})</span>
                            </div>
                        `;
                    });

                    html += '</div>';
                    historyDisplay.innerHTML = html;
                }

            // Also update modal if it exists
            const historyList = document.getElementById('historyContent');
            if (!historyList) {
                console.error('updateHistoryDisplay: historyContent element not found!');
                return;
            }

            console.log('updateHistoryDisplay: historyContent element found, updating display');

            if (energyHistory.length === 0) {
                historyList.innerHTML = '<p class="text-gray-500 text-center py-8">No energy history yet. Start tracking your daily energy!</p>';
                return;
            }

            // Use exact same sorting logic as main Energy History
            const sortedHistory = [...energyHistory].sort((a, b) => {
                const dateA = new Date(a.date + 'T00:00:00');
                const dateB = new Date(b.date + 'T00:00:00');
                return dateB - dateA;
            });

            // Group by week
            const weeklyGroups = {};
            sortedHistory.forEach(entry => {
                const weekStart = getWeekStart(new Date(entry.date));
                const weekKey = weekStart.toISOString().split('T')[0];
                if (!weeklyGroups[weekKey]) {
                    weeklyGroups[weekKey] = [];
                }
                weeklyGroups[weekKey].push(entry);
            });

            let html = '';
            Object.keys(weeklyGroups).slice(0, 4).forEach(weekKey => {
                const weekEntries = weeklyGroups[weekKey];
                const weekStart = new Date(weekKey);
                const weekEnd = new Date(weekStart);
                weekEnd.setDate(weekStart.getDate() + 6);

                const avgEnergy = weekEntries.reduce((sum, entry) => sum + entry.energyLevel, 0) / weekEntries.length;
                const avgEmotion = getClosestEmotion(avgEnergy);

                // Better week range display
                const weekRangeText = `Week of ${weekStart.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}`;

                html += `
                    <div class="border border-white/10 rounded-lg p-4 mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="font-semibold text-white">${weekRangeText}</h4>
                            <span class="text-sm">${avgEmotion.emoji} ${avgEmotion.name} (${Math.round(avgEnergy)})</span>
                        </div>
                        <div class="space-y-2">
                `;

                weekEntries.slice(0, 7).forEach(entry => {
                    const entryDate = new Date(entry.date);
                    const today = new Date();

                    // Check if it's today or show the day name
                    let displayDate;
                    if (entryDate.toDateString() === today.toDateString()) {
                        displayDate = 'Today';
                    } else {
                        displayDate = entryDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
                    }

                    html += `
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-400">${displayDate}</span>
                            <span>${entry.emoji} ${entry.emotion} (${entry.energyLevel})</span>
                        </div>
                    `;
                });

                html += '</div></div>';
            });

            historyList.innerHTML = html;
        }

        function getWeekStart(date) {
            const d = new Date(date);
            const day = d.getDay();
            const diff = d.getDate() - day;
            return new Date(d.setDate(diff));
        }

        function formatDate(date) {
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function formatDateRange(startDate, endDate) {
            return `${formatDate(startDate)} - ${formatDate(endDate)}`;
        }

        function exportEnergyData() {
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            const dataStr = JSON.stringify(energyHistory, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `energy-tracking-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('Energy data exported successfully! üìä');
        }

        function clearEnergyData() {
            if (confirm('Are you sure you want to clear all energy tracking data? This cannot be undone.')) {
                localStorage.removeItem('energyHistory');
                localStorage.removeItem('weeklyEnergyGoal');
                localStorage.removeItem('goalWeek');
                updateHistoryDisplay();
                updateWeeklyProgress();
                showNotification('Energy data cleared successfully! üóëÔ∏è');
            }
        }

        // Clean up duplicate data on load
        function cleanupDuplicateData() {
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');

            const uniqueHistory = [];
            const seenDates = new Set();

            energyHistory.forEach(entry => {
                if (!seenDates.has(entry.date)) {
                    seenDates.add(entry.date);
                    uniqueHistory.push(entry);
                }
            });

            localStorage.setItem('energyHistory', JSON.stringify(uniqueHistory));
        }

        // Initialize energy tracking
        document.addEventListener('DOMContentLoaded', function() {
            cleanupDuplicateData(); // Clean up any existing duplicates
            loadWeeklyGoal();
            updateWeeklyProgress();
            updateHistoryDisplay();

    
            // Load energy data for all 7 days (Monday to Sunday order)
            const energyHistory = JSON.parse(localStorage.getItem('energyHistory') || '[]');
            const today = new Date();

            // Get Monday as start of week
            const monday = new Date(today);
            const dayOfWeek = today.getDay();
            const daysFromMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1; // Sunday = 0, so 6 days back
            monday.setDate(today.getDate() - daysFromMonday);

            for (let i = 0; i < 7; i++) {
                const targetDate = new Date(monday);
                targetDate.setDate(monday.getDate() + parseInt(i));
                // Use local date format to avoid timezone issues
                const dateKey = targetDate.getFullYear() + '-' +
                               String(targetDate.getMonth() + 1).padStart(2, '0') + '-' +
                               String(targetDate.getDate()).padStart(2, '0');

                const dayEntry = energyHistory.find(entry => entry.date === dateKey);

                if (dayEntry) {
                    const emotion = energyEmotions[dayEntry.energyLevel];
                    if (emotion) {
                        updateDayButton(i, emotion);
                    }
                } else {
                    // Clear the day button if no entry exists (remove any unwanted emojis)
                    const dayButton = document.getElementById(`day-${i}`);
                    if (dayButton) {
                        dayButton.innerHTML = '<span class="text-white text-lg font-bold">+</span>';
                        dayButton.className = 'day-btn w-12 h-12 rounded-full border border-gray-600 hover:border-indigo-400 transition flex items-center justify-center mx-auto';
                    }
                    const energyName = document.getElementById(`energy-name-${i}`);
                    if (energyName) {
                        energyName.textContent = 'Not Set';
                    }
                }
            }
        }); // Close DOMContentLoaded event listener

        // MINIMAL WORKING FUNCTIONS - OVERWRITE ANY BROKEN CODE
        window.toggleDayDropdown = function(dayIndex) {
            alert('Dropdown working! Day: ' + dayIndex);
            document.querySelectorAll('[id^="dropdown-"]').forEach(d => d.classList.add('hidden'));
            const dropdown = document.getElementById('dropdown-' + dayIndex);
            if (dropdown) dropdown.classList.remove('hidden');
        };

        window.selectEnergyForDay = function(dayIndex, energyLevel) {
            const emotions = {
                700: {name: 'Enlightenment', emoji: 'üåü', color: 'bg-purple-600'},
                600: {name: 'Peace', emoji: 'üïäÔ∏è', color: 'bg-indigo-600'},
                540: {name: 'Joy', emoji: 'üòä', color: 'bg-blue-600'},
                500: {name: 'Love', emoji: '‚ù§Ô∏è', color: 'bg-green-600'},
                400: {name: 'Reason', emoji: 'üß†', color: 'bg-yellow-600'},
                350: {name: 'Acceptance', emoji: '‚úÖ', color: 'bg-orange-600'},
                310: {name: 'Willingness', emoji: 'üí™', color: 'bg-orange-600'},
                250: {name: 'Neutrality', emoji: 'üòê', color: 'bg-gray-500'},
                200: {name: 'Courage', emoji: 'ü¶Å', color: 'bg-yellow-500'},
                175: {name: 'Pride', emoji: 'üòé', color: 'bg-orange-500'},
                150: {name: 'Anger', emoji: 'üò°', color: 'bg-red-500'},
                125: {name: 'Desire', emoji: 'üî•', color: 'bg-orange-600'},
                100: {name: 'Fear', emoji: 'üò®', color: 'bg-red-400'},
                75: {name: 'Grief', emoji: 'üò¢', color: 'bg-red-300'},
                50: {name: 'Apathy', emoji: 'üò¥', color: 'bg-gray-400'},
                30: {name: 'Guilt', emoji: 'üòî', color: 'bg-red-500'},
                20: {name: 'Shame', emoji: 'üòû', color: 'bg-red-600'}
            };

            const emotion = emotions[energyLevel];
            if (!emotion) return;

            const btn = document.getElementById('day-' + dayIndex);
            if (btn) {
                btn.innerHTML = '<span class="text-lg">' + emotion.emoji + '</span>';
                btn.className = 'day-btn w-12 h-12 rounded-full ' + emotion.color + ' hover:opacity-80 transition flex items-center justify-center mx-auto';
            }

            const nameEl = document.getElementById('energy-name-' + dayIndex);
            if (nameEl) nameEl.textContent = emotion.name;

            const dropdown = document.getElementById('dropdown-' + dayIndex);
            if (dropdown) dropdown.classList.add('hidden');
        };

        
    </script>

    <!-- Journal Page Custom Styles -->
    <style>
        /* Grid Pattern Background */
        .bg-grid-pattern {
            background-image:
                linear-gradient(rgba(0, 212, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        /* Journal Page Layout - All styles scoped to #journal-page */
        #journal-page .journal-grid-layout {
            grid-template-columns: 40% 60%;
        }

        /* Desktop Layout (>1024px) */
        @media (min-width: 1024px) {
            #journal-page .journal-grid-layout {
                grid-template-columns: 40% 60%;
                gap: 2rem;
            }

            #journal-page .journal-main-container {
                padding: 2rem;
            }

            #journal-page .journal-form-card,
            #journal-page .journal-timeline-card {
                transform: translateZ(30px);
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            #journal-page .journal-form-card:hover,
            #journal-page .journal-timeline-card:hover {
                transform: translateZ(50px) rotateX(2deg);
                box-shadow: 0 25px 50px -12px rgba(0, 212, 255, 0.25);
            }
        }

        /* Tablet Layout (768px - 1024px) */
        @media (min-width: 768px) and (max-width: 1023px) {
            #journal-page .journal-grid-layout {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                max-width: 4xl;
            }

            #journal-page .journal-main-container {
                padding: 1.5rem;
            }

            #journal-page .journal-form-card,
            #journal-page .journal-timeline-card {
                transform: translateZ(15px);
            }

            #journal-page .journal-timeline-scroll {
                max-height: 400px;
            }
        }

        /* Mobile Layout (<768px) */
        @media (max-width: 767px) {
            #journal-page .journal-grid-layout {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            #journal-page .journal-main-container {
                padding: 1rem;
            }

            #journal-page .journal-header h1 {
                font-size: 2.5rem;
            }

            #journal-page .journal-form-card,
            #journal-page .journal-timeline-card {
                transform: translateZ(10px);
                padding: 1.5rem;
                border-radius: 1.5rem;
            }

            #journal-page .journal-datetime-section .grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            #journal-page .journal-mood-grid {
                grid-template-columns: 3;
                gap: 0.75rem;
            }

            #journal-page .journal-textarea {
                height: 120px;
            }

            #journal-page .journal-timeline-scroll {
                max-height: 300px;
            }

            #journal-page .journal-timeline-entry {
                padding: 1rem;
            }

            #journal-page .journal-entry-header {
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        /* 3D Effects and Animations */
        #journal-page .journal-3d-container {
            perspective: 1500px;
            transform-style: preserve-3d;
        }

        #journal-page .journal-form-container,
        #journal-page .journal-timeline-container {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #journal-page .journal-form-card,
        #journal-page .journal-timeline-card {
            transform-style: preserve-3d;
            backface-visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Enhanced Hover Effects */
        #journal-page .journal-timeline-entry {
            transform-style: preserve-3d;
            transition: all 0.2s ease;
        }

        #journal-page .journal-timeline-entry:hover {
            transform: translateZ(15px) scale(1.02);
            background: rgba(26, 31, 46, 0.7);
            border-color: rgba(0, 212, 255, 0.3);
        }

        #journal-page .journal-submit-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 20px 40px -15px rgba(0, 212, 255, 0.4);
        }

        #journal-page .journal-load-more-btn:hover {
            transform: translateY(-1px);
            border-color: rgba(0, 212, 255, 0.3);
        }

        /* Smooth Scrolling */
        #journal-page .journal-timeline-scroll {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.3) transparent;
        }

        #journal-page .journal-timeline-scroll::-webkit-scrollbar {
            width: 6px;
        }

        #journal-page .journal-timeline-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        #journal-page .journal-timeline-scroll::-webkit-scrollbar-thumb {
            background: rgba(0, 212, 255, 0.3);
            border-radius: 3px;
        }

        #journal-page .journal-timeline-scroll::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 212, 255, 0.5);
        }

        /* Glass Morphism Enhancement */
        #journal-page .journal-form-card,
        #journal-page .journal-timeline-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* Form Input Enhancement */
        #journal-page .journal-date-input,
        #journal-page .journal-time-input,
        #journal-page .journal-search-input {
            transition: all 0.2s ease;
        }

        #journal-page .journal-date-input:hover,
        #journal-page .journal-time-input:hover,
        #journal-page .journal-search-input:hover {
            border-color: rgba(0, 212, 255, 0.2);
            background: rgba(26, 31, 46, 0.6);
        }

        #journal-page .journal-date-input:focus,
        #journal-page .journal-time-input:focus,
        #journal-page .journal-search-input:focus {
            border-color: rgba(0, 212, 255, 0.5);
            background: rgba(26, 31, 46, 0.7);
            transform: translateZ(5px);
        }

        /* Responsive Typography */
        @media (max-width: 767px) {
            #journal-page .journal-header h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            #journal-page .journal-header p {
                font-size: 1rem;
            }

            #journal-page .journal-form-header h2,
            #journal-page .journal-timeline-header h2 {
                font-size: 1.5rem;
            }
        }

        /* Animation for page entrance */
        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-50px) translateZ(0);
            }
            to {
                opacity: 1;
                transform: translateX(0) translateZ(20px);
            }
        }

        @keyframes slideInFromRight {
            from {
                opacity: 0;
                transform: translateX(50px) translateZ(0);
            }
            to {
                opacity: 1;
                transform: translateX(0) translateZ(20px);
            }
        }

        #journal-page .journal-left-column {
            animation: slideInFromLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        #journal-page .journal-right-column {
            animation: slideInFromRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.2s forwards;
            opacity: 0;
        }

        #journal-page .journal-right-column.animated {
            opacity: 1;
        }

        /* Soft Friendly Robot Animations */
        @keyframes softBounce {
            0%, 100% { transform: translateY(0px) translateX(-50%); }
            50% { transform: translateY(-4px) translateX(-50%); }
        }

        @keyframes softBlink {
            0%, 94%, 100% { transform: scaleY(1); opacity: 1; }
            97% { transform: scaleY(0.3); opacity: 0.9; }
        }

        @keyframes softWave {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(6deg); }
        }

        @keyframes softPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.08); opacity: 1; }
        }

        /* Gentle Apple-Style Animations (legacy) */
        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0px) translateX(-50%); }
            50% { transform: translateY(-6px) translateX(-50%); }
        }

        @keyframes gentleBlink {
            0%, 92%, 100% { transform: scaleY(1); opacity: 1; }
            96% { transform: scaleY(0.2); opacity: 0.8; }
        }

        @keyframes gentleWave {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(8deg); }
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Legacy Animations (kept for compatibility) */
        @keyframes float {
            0%, 100% { transform: translateY(0px) translateX(-50%); }
            50% { transform: translateY(-10px) translateX(-50%); }
        }

        @keyframes robotFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-8px) scale(1.05); }
        }

        @keyframes robotHeadTilt {
            0%, 100% { transform: translateZ(10px) rotate(0deg); }
            25% { transform: translateZ(10px) rotate(-5deg); }
            75% { transform: translateZ(10px) rotate(5deg); }
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        @keyframes robotArmMove {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(10deg); }
        }

        /* Energy Button Animations */
        @keyframes energyPulse {
            0%, 100% { opacity: 0.6; transform: scaleY(1); }
            50% { opacity: 1; transform: scaleY(1.1); }
        }

        @keyframes energyGlow {
            0%, 100% { box-shadow: 0 0 10px currentColor; }
            50% { box-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
        }

        /* 3D Timeline Entry Animations */
        @keyframes entryFloat {
            0%, 100% {
                transform: translateZ(20px) translateY(0px) rotateY(0deg);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            }
            50% {
                transform: translateZ(30px) translateY(-5px) rotateY(2deg);
                box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            }
        }

        /* Enhanced Glassmorphism Effects */
        .journal-timeline-entry-3d:hover {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow:
                0 25px 50px -12px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(255, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

     
        /* Gentle Apple-Style Hover Effects */
        .journal-form-card:hover {
            transform: translateY(-2px);
            box-shadow:
                0 20px 40px -15px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        .journal-timeline-card:hover {
            transform: translateY(-2px);
            box-shadow:
                0 20px 40px -15px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        /* Robot Speech Bubble Animation */
        .robot-speech-bubble {
            animation: float 3s ease-in-out infinite, fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(-20px) scale(0.8); }
            to { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
        }

        /* Enhanced Button Effects */
        .journal-submit-btn:hover {
            transform: translateY(-4px) scale(1.02) translateZ(10px);
            box-shadow:
                0 25px 50px -12px rgba(0, 212, 255, 0.4),
                0 0 30px rgba(0, 212, 255, 0.2);
        }

        /* Tag 3D Effects */
        .tag-3d {
            transform: translateZ(5px);
            transition: all 0.2s ease;
        }

        .tag-3d:hover {
            transform: translateZ(10px) scale(1.1);
            box-shadow: 0 5px 15px -3px currentColor;
        }

   
        /* Content Section 3D Effects */
        .content-section-3d {
            transform: translateZ(5px);
            transition: all 0.3s ease;
        }

        .content-section-3d:hover {
            transform: translateZ(10px);
            background: rgba(255, 255, 255, 0.08);
        }

        /* Enhanced Input 3D Effects */
        .journal-textarea:focus,
        .journal-tags-input:focus {
            transform: translateZ(8px) scale(1.01);
            box-shadow:
                0 10px 30px -10px rgba(0, 212, 255, 0.3),
                0 0 0 2px rgba(0, 212, 255, 0.2);
        }

        /* Journal Field Labels - Consistent Font Styling */
        .journal-field-label {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
            font-size: 14px !important; /* Force exact pixel size */
            font-weight: 500 !important; /* Force exact weight */
            line-height: 1.25 !important;
            color: rgba(255, 255, 255, 0.7) !important; /* text-white/70 */
            margin-bottom: 8px !important; /* Force exact margin */
            display: block !important;
            letter-spacing: 0.025em !important;
            text-transform: none !important;
            unicode-bidi: isolate !important;
            font-feature-settings: "liga" 1, "calt" 1 !important;
            text-rendering: optimizeLegibility !important;
            -webkit-font-smoothing: antialiased !important;
            -moz-osx-font-smoothing: grayscale !important;
            font-variant: normal !important;
            font-style: normal !important;
        }

        /* Force consistency for any nested elements */
        .journal-field-label *,
        .journal-field-label::before,
        .journal-field-label::after {
            font-family: inherit !important;
            font-size: inherit !important;
            font-weight: inherit !important;
            color: inherit !important;
        }

        /* Prevent font changes during interactions */
        .journal-field-label:focus,
        .journal-field-label:active,
        .journal-field-label:hover,
        .journal-date-section:focus .journal-field-label,
        .journal-date-section:active .journal-field-label,
        .journal-date-section:hover .journal-field-label,
        .journal-reflections-section:focus .journal-field-label,
        .journal-reflections-section:active .journal-field-label,
        .journal-reflections-section:hover .journal-field-label,
        .journal-win-section:focus .journal-field-label,
        .journal-win-section:active .journal-field-label,
        .journal-win-section:hover .journal-field-label,
        .journal-learning-section:focus .journal-field-label,
        .journal-learning-section:active .journal-field-label,
        .journal-learning-section:hover .journal-field-label,
        .journal-tags-section:focus .journal-field-label,
        .journal-tags-section:active .journal-field-label,
        .journal-tags-section:hover .journal-field-label {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            line-height: 1.25 !important;
            color: rgba(255, 255, 255, 0.7) !important;
            letter-spacing: 0.025em !important;
            text-transform: none !important;
            font-variant: normal !important;
            font-style: normal !important;
        }

        /* Also prevent changes when inputs are focused */
        input:focus ~ .journal-field-label,
        input:active ~ .journal-field-label,
        textarea:focus ~ .journal-field-label,
        textarea:active ~ .journal-field-label,
        .journal-date-input:focus ~ .journal-field-label,
        .journal-reflections:focus ~ .journal-field-label,
        .journal-win-input:focus ~ .journal-field-label,
        .journal-learning-input:focus ~ .journal-field-label,
        .journal-tags-input:focus ~ .journal-field-label {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            line-height: 1.25 !important;
            color: rgba(255, 255, 255, 0.7) !important;
            letter-spacing: 0.025em !important;
            text-transform: none !important;
            font-variant: normal !important;
            font-style: normal !important;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .robot-3d {
                transform: scale(0.8);
            }

          
            .journal-timeline-entry-3d {
                transform: translateZ(10px) !important;
            }

            .journal-timeline-entry-3d:hover {
                transform: translateZ(15px) scale(1.02) !important;
            }
        }
    </style>

    <!-- Atmospheric Background System Scripts -->
    <script src="journal-background-script.js"></script>
    <script src="journal-background-integration.js"></script>
    <script src="journal-animations.js"></script>

    <!-- Journal Data Storage and Functionality -->
    <script>
        // Journal Data Management
        /* class JournalManager {
            constructor() {
                this.entries = this.loadEntries();
                this.initialized = false;
                this.retryCount = 0;
                this.maxRetries = 10;
                this.isSaving = false;
                this.init();
            }

            init() {
                // Wait for elements to be available
                if (this.checkElementsExist()) {
                    this.renderTimeline();
                    this.setupEventListeners();
                    this.updateEntryCount();
                    this.initialized = true;
                } else if (this.retryCount < this.maxRetries) {
                    this.retryCount++;
                    setTimeout(() => this.init(), 100);
                } else {
                    console.warn('JournalManager: Could not find required elements after maximum retries');
                }
            }

            checkElementsExist() {
                const requiredElements = [
                    '.journal-save-btn',
                    '#timeline-search',
                    '#journal-reflections',
                    '.journal-win-input',
                    '.journal-learning-input',
                    '#journal-tags',
                    '#timeline-entries'
                ];

                return requiredElements.every(selector => {
                    const element = document.querySelector(selector);
                    if (!element) {
                        console.warn(`JournalManager: Element not found - ${selector}`);
                        return false;
                    }
                    return true;
                });
            }

            // Load entries from localStorage
            loadEntries() {
                try {
                    const stored = localStorage.getItem('journalEntries');
                    return stored ? JSON.parse(stored) : [];
                } catch (error) {
                    console.error('JournalManager: Error loading entries from localStorage:', error);
                    return [];
                }
            }

            // Save entries to localStorage
            saveEntries() {
                try {
                    localStorage.setItem('journalEntries', JSON.stringify(this.entries));
                } catch (error) {
                    console.error('JournalManager: Error saving entries to localStorage:', error);
                    alert('Error saving data to browser storage. Please check your browser settings.');
                }
            }

            // Add new entry
            addEntry(entry) {
                const newEntry = {
                    id: Date.now(),
                    date: entry.date || new Date().toISOString().split('T')[0],
                    time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                    reflections: entry.reflections || '',
                    biggestWin: entry.biggestWin || '',
                    keyLearning: entry.keyLearning || '',
                    tags: entry.tags || '',
                    timestamp: Date.now()
                };

                this.entries.unshift(newEntry);
                this.saveEntries();
                this.renderTimeline();
                this.updateEntryCount();

                return newEntry;
            }

            // Delete entry
            deleteEntry(id) {
                this.entries = this.entries.filter(entry => entry.id !== id);
                this.saveEntries();
                this.renderTimeline();
                this.updateEntryCount();
            }

            // Search entries
            searchEntries(query) {
                if (!query) return this.entries;

                const lowerQuery = query.toLowerCase();
                return this.entries.filter(entry =>
                    entry.reflections.toLowerCase().includes(lowerQuery) ||
                    entry.biggestWin.toLowerCase().includes(lowerQuery) ||
                    entry.keyLearning.toLowerCase().includes(lowerQuery) ||
                    entry.tags.toLowerCase().includes(lowerQuery)
                );
            }

            // Render timeline entries
            renderTimeline(entriesToRender = null) {
                try {
                    const container = document.getElementById('timeline-entries');
                    if (!container) {
                        console.warn('JournalManager: Timeline container not found for rendering');
                        return;
                    }

                    const entries = entriesToRender || this.entries;

                    if (entries.length === 0) {
                        container.innerHTML = `
                            <div class="text-center py-12" id="empty-state">
                                <div class="text-6xl mb-4 opacity-50">üìù</div>
                                <div class="text-xl text-gray-400 mb-2">No entries yet</div>
                                <div class="text-sm text-gray-500">Start your journaling journey by adding your first entry above</div>
                            </div>
                        `;
                        return;
                    }

                    let html = '';
                    entries.forEach(entry => {
                        html += this.createEntryCard(entry);
                    });

                    container.innerHTML = html;
                } catch (error) {
                    console.error('JournalManager: Error rendering timeline:', error);
                }
            }

            // Create entry card HTML
            createEntryCard(entry) {
                const tagsHtml = entry.tags ? entry.tags.split(' ').map(tag =>
                    `<span class="tag-soft bg-blue-400/20 text-blue-400/90 px-3 py-1 rounded-full text-xs font-medium border border-blue-400/30">#${tag}</span>`
                ).join(' ') : '';

                const date = new Date(entry.date);
                const formattedDate = date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                return `
                    <div class="entry-card w-full p-6 mb-4 rounded-2xl bg-white/8 backdrop-blur-xl border border-white/10 shadow-lg transition-all duration-300 hover:translate-y-[-4px] hover:shadow-xl" data-id="${entry.id}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <div class="text-lg font-semibold text-white mb-1">${formattedDate}</div>
                                <div class="text-sm text-gray-400">${entry.time}</div>
                            </div>
                        </div>

                        ${entry.reflections ? `
                        <div class="mb-3">
                            <div class="text-xs font-medium text-indigo-400 uppercase tracking-wider mb-2">REFLECTIONS</div>
                            <div class="text-gray-300 text-sm leading-relaxed">${this.truncateText(entry.reflections, 120)}</div>
                        </div>
                        ` : ''}

                        ${entry.biggestWin ? `
                        <div class="mb-3">
                            <div class="text-xs font-medium text-emerald-400 uppercase tracking-wider mb-2">BIGGEST WIN</div>
                            <div class="text-gray-300 text-sm leading-relaxed">${this.truncateText(entry.biggestWin, 120)}</div>
                        </div>
                        ` : ''}

                        ${entry.keyLearning ? `
                        <div class="mb-3">
                            <div class="text-xs font-medium text-purple-400 uppercase tracking-wider mb-2">KEY LEARNING</div>
                            <div class="text-gray-300 text-sm leading-relaxed">${this.truncateText(entry.keyLearning, 120)}</div>
                        </div>
                        ` : ''}

                        ${tagsHtml ? `
                        <div class="flex flex-wrap gap-2 mb-3">
                            ${tagsHtml}
                        </div>
                        ` : ''}

                        <div class="flex justify-between items-center pt-3 border-t border-white/10">
                            <button class="edit-entry text-gray-400 hover:text-white text-sm transition-colors duration-200" data-id="${entry.id}">
                                ‚úèÔ∏è Edit
                            </button>
                            <button class="delete-entry text-gray-400 hover:text-red-400 text-sm transition-colors duration-200" data-id="${entry.id}">
                                üóëÔ∏è Delete
                            </button>
                        </div>
                    </div>
                `;
            }

            // Truncate text with ellipsis
            truncateText(text, maxLength) {
                return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
            }

            // Update entry count
            updateEntryCount() {
                const countElement = document.getElementById('entry-count');
                if (countElement) {
                    countElement.textContent = `${this.entries.length} ${this.entries.length === 1 ? 'entry' : 'entries'} total`;
                }
            }

            // Setup event listeners
            setupEventListeners() {
                try {
                    // Save button
                    const saveBtn = document.querySelector('.journal-save-btn');
                    if (saveBtn) {
                        saveBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.handleSaveEntry();
                        });
                    } else {
                        console.warn('JournalManager: Save button not found');
                    }

                    // Search functionality
                    const searchInput = document.getElementById('timeline-search');
                    if (searchInput) {
                        searchInput.addEventListener('input', (e) => {
                            try {
                                const results = this.searchEntries(e.target.value);
                                this.renderTimeline(results);
                            } catch (error) {
                                console.error('JournalManager: Search error:', error);
                            }
                        });
                    } else {
                        console.warn('JournalManager: Search input not found');
                    }

                    // Delete entries (using event delegation on timeline container)
                    const timelineContainer = document.getElementById('timeline-entries');
                    if (timelineContainer) {
                        timelineContainer.addEventListener('click', (e) => {
                            if (e.target.classList.contains('delete-entry')) {
                                const id = parseInt(e.target.dataset.id);
                                if (!isNaN(id)) {
                                    this.showDeleteConfirmation(id);
                                }
                            }
                            if (e.target.classList.contains('edit-entry')) {
                                const id = parseInt(e.target.dataset.id);
                                if (!isNaN(id)) {
                                    this.editEntry(id);
                                }
                            }
                        });
                    } else {
                        console.warn('JournalManager: Timeline container not found');
                    }

                } catch (error) {
                    console.error('JournalManager: Error setting up event listeners:', error);
                }
            }

            // Handle save entry
            handleSaveEntry() {
                // Prevent double saves
                if (this.isSaving) {
                    console.log('JournalManager: Already saving, ignoring call');
                    return;
                }

                this.isSaving = true;
                setTimeout(() => this.isSaving = false, 1000);

                try {
                    console.log('JournalManager: Starting save process...');

                    // Try multiple selectors to find the form elements
                    const reflectionsEl = document.getElementById('journal-reflections') ||
                                        document.querySelector('textarea#journal-reflections') ||
                                        document.querySelector('.journal-reflections') ||
                                        document.querySelector('textarea.journal-reflections');

                    const winEl = document.querySelector('.journal-win-input') ||
                                  document.querySelector('input.journal-win-input');

                    const learningEl = document.querySelector('.journal-learning-input') ||
                                       document.querySelector('input.journal-learning-input');

                    const tagsEl = document.getElementById('journal-tags') ||
                                   document.querySelector('input#journal-tags') ||
                                   document.querySelector('.journal-tags-input');

                    const dateEl = document.querySelector('.journal-date-input') ||
                                  document.querySelector('input[type="date"]');

                    console.log('Form elements found:', {
                        reflections: !!reflectionsEl,
                        win: !!winEl,
                        learning: !!learningEl,
                        tags: !!tagsEl,
                        date: !!dateEl
                    });

                    // Debug: show actual values
                    console.log('REFLECTIONS ELEMENT VALUE:', document.getElementById('journal-reflections')?.value);
                    console.log('REFLECTIONS ELEMENT TEXT:', document.getElementById('journal-reflections')?.innerText);
                    console.log('REFLECTIONS ELEMENT TEXTCONTENT:', document.getElementById('journal-reflections')?.textContent);

                    // Check if it's a textarea vs input issue
                    const textareaEl = document.querySelector('textarea');
                    console.log('FIRST TEXTAREA VALUE:', textareaEl?.value);
                    console.log('FIRST TEXTAREA ID:', textareaEl?.id);

                    if (!reflectionsEl || !winEl || !learningEl || !tagsEl) {
                        console.error('JournalManager: Form elements not found');
                        alert('Error: Could not find form elements. Please refresh the page.');
                        return;
                    }

                    const reflections = reflectionsEl?.value || '';
                    const biggestWin = winEl?.value || '';
                    const keyLearning = learningEl?.value || '';
                    const tags = tagsEl?.value || '';
                    const entryDate = dateEl?.value || new Date().toISOString().split('T')[0];

                    console.log('Form values:', {
                        date: `"${entryDate}"`,
                        reflections: `"${reflections}"`,
                        biggestWin: `"${biggestWin}"`,
                        keyLearning: `"${keyLearning}"`,
                        tags: `"${tags}"`
                    });

                    // Direct test - try multiple ways to get the value
                    const directValue = document.getElementById('journal-reflections')?.value;
                    const jqValue = document.querySelector('#journal-reflections')?.value;
                    const classValue = document.querySelector('.journal-reflections')?.value;

                    console.log('DIRECT VALUE TESTS:', {
                        direct: directValue,
                        jq: jqValue,
                        class: classValue
                    });

                    // Use any value that exists
                    const actualReflections = directValue || jqValue || classValue || reflections;
                    console.log('FINAL REFLECTIONS VALUE:', actualReflections);

                    // More lenient validation - just check if there's any content
                    if (!actualReflections || actualReflections.trim().length === 0) {
                        console.log('Validation failed: reflections empty');
                        alert('Please add at least some reflections before saving.');
                        return;
                    }

                    // Check if we're in edit mode
                    const saveBtn = document.querySelector('.journal-save-btn');
                    const editId = saveBtn?.dataset.editId;

                    // Use the actual value for saving
                    const entry = {
                        date: entryDate,
                        reflections: actualReflections,
                        biggestWin,
                        keyLearning,
                        tags: tags.trim()
                    };

                    if (editId) {
                        // Update existing entry
                        this.updateEntry(parseInt(editId), entry);
                    } else {
                        // Create new entry
                        this.addEntry(entry);

                        // Clear form safely (only for new entries)
                        if (reflectionsEl) reflectionsEl.value = '';
                        if (winEl) winEl.value = '';
                        if (learningEl) learningEl.value = '';
                        if (tagsEl) tagsEl.value = '';
                        if (dateEl) dateEl.value = '';
                    }

                    console.log('Entry saved with date:', entryDate);
                    console.log('Complete entry object:', entry);

                    // Show success message
                    this.showSuccessMessage(editId ? '‚úÖ Entry updated successfully!' : '‚úÖ Entry saved successfully!');

                } catch (error) {
                    console.error('JournalManager: Error saving entry:', error);
                    alert('Error saving entry. Please try again.');
                }
            }

            // Show success message - DISABLED TO FIX NOTIFICATION POSITIONING
            showSuccessMessage(message = '‚úÖ Entry saved successfully!') {
                // Disabled - using centered notifications instead
                console.log('JournalManager showSuccessMessage disabled');
            }

            // Show centered delete confirmation
            showDeleteConfirmation(id) {
                // Create backdrop
                const backdrop = document.createElement('div');
                backdrop.className = 'fixed inset-0 bg-black/70 backdrop-blur-md z-999999 flex items-center justify-center';
                backdrop.style.cssText = 'position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; z-index: 999999 !important; animation: fadeIn 0.3s ease;';

                // Create confirmation dialog
                const dialog = document.createElement('div');
                dialog.className = 'bg-gradient-to-br from-red-600/20 to-red-700/30 backdrop-blur-2xl border-2 border-red-400/30 rounded-3xl p-8 max-w-md mx-4 shadow-2xl';
                dialog.style.cssText = 'animation: scaleIn 0.3s ease; border: 2px solid rgba(239, 68, 68, 0.4) !important;';
                dialog.innerHTML = `
                    <div class="text-center">
                        <div class="text-6xl mb-6 animate-pulse">‚ö†Ô∏è</div>
                        <div class="text-white font-bold text-2xl mb-4">Are you sure you want to delete this entry?</div>
                        <div class="text-gray-200 text-base mb-8 font-medium">This action cannot be undone. Your journal entry will be permanently deleted.</div>
                        <div class="flex gap-4 justify-center">
                            <button class="cancel-btn px-6 py-3 bg-gray-600/60 text-white rounded-xl hover:bg-gray-600/80 transition-all duration-200 font-semibold text-base border border-gray-500/50" style="min-width: 120px;">
                                Cancel
                            </button>
                            <button class="confirm-btn px-6 py-3 bg-red-500/90 text-white rounded-xl hover:bg-red-500 text-base font-bold transition-all duration-200 hover:scale-105 border border-red-400/50" style="min-width: 120px;">
                                Delete
                            </button>
                        </div>
                    </div>
                `;

                backdrop.appendChild(dialog);
                document.body.appendChild(backdrop);

                // Add CSS animations
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes scaleIn {
                        from {
                            opacity: 0;
                            transform: translate(-50%, -50%) scale(0.8);
                        }
                        to {
                            opacity: 1;
                            transform: translate(-50%, -50%) scale(1);
                        }
                    }
                `;
                document.head.appendChild(style);

                // Handle cancel
                dialog.querySelector('.cancel-btn').addEventListener('click', () => {
                    backdrop.remove();
                });

                // Handle confirm delete
                dialog.querySelector('.confirm-btn').addEventListener('click', () => {
                    // Perform actual deletion
                    try {
                        let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                        entries = entries.filter(entry => entry.id !== id);
                        localStorage.setItem('journalEntries', JSON.stringify(entries));
                        loadJournalEntries(); // Reload entries

                        // Show small success message
                        const successDiv = document.createElement('div');
                        successDiv.style.cssText = 'position: fixed !important; top: 20px !important; left: 50% !important; transform: translateX(-50%) !important; background: rgba(239, 68, 68, 0.9) !important; color: white !important; padding: 12px 20px !important; border-radius: 8px !important; z-index: 999999 !important; font-weight: normal !important; font-size: 14px !important; box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;';
                        successDiv.textContent = 'Deleted';
                        successDiv.id = 'delete-notification';
                        document.body.appendChild(successDiv);

                        setTimeout(() => {
                            successDiv.remove();
                        }, 1500);

                        console.log('Journal entry deleted successfully');
                    } catch (error) {
                        console.error('Error deleting entry:', error);
                        alert('Error deleting entry. Please try again.');
                    }

                    backdrop.remove();
                });

                // Close on backdrop click
                backdrop.addEventListener('click', (e) => {
                    if (e.target === backdrop) {
                        backdrop.remove();
                    }
                });
            }

            // Edit entry - show centered modal
            editEntry(id) {
                const entry = this.entries.find(e => e.id === id);
                if (!entry) {
                    console.error('Entry not found:', id);
                    alert('Entry not found');
                    return;
                }

                console.log('Editing entry:', entry);

                // Create backdrop
                const backdrop = document.createElement('div');
                backdrop.className = 'fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center';
                backdrop.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999;';

                // Create edit modal
                const modal = document.createElement('div');
                modal.className = 'bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl';
                modal.innerHTML = `
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">‚úèÔ∏è</div>
                        <div class="text-white font-semibold text-xl mb-2">Edit Journal Entry</div>
                        <div class="text-gray-300 text-sm">Update your thoughts and experiences</div>
                    </div>

                    <form class="edit-form space-y-4">
                        <!-- Date -->
                        <div class="text-left">
                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üìÖ Date</div>
                            <input type="date" id="modal-date" class="w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" value="${entry.date || ''}">
                        </div>

                        <!-- Reflections -->
                        <div class="text-left">
                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üí≠ Reflections</div>
                            <textarea id="modal-reflections" class="w-full h-32 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 resize-none focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What's on your mind?">${entry.reflections || ''}</textarea>
                        </div>

                        <!-- Biggest Win -->
                        <div class="text-left">
                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üèÜ Biggest Win</div>
                            <input type="text" id="modal-win" class="w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What was your proudest moment?" value="${entry.biggestWin || ''}">
                        </div>

                        <!-- Key Learning -->
                        <div class="text-left">
                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üìö Key Learning</div>
                            <input type="text" id="modal-learning" class="w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="What did you learn?" value="${entry.keyLearning || ''}">
                        </div>

                        <!-- Tags -->
                        <div class="text-left">
                            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important; font-size: 14px !important; font-weight: 500 !important; color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 8px !important; display: block !important; line-height: 1.25 !important; letter-spacing: normal !important;">üè∑Ô∏è Tags (optional)</div>
                            <input type="text" id="modal-tags" class="w-full h-12 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white/90 placeholder-white/40 focus:outline-none focus:bg-white/[0.08] focus:border-white/[0.15] focus:backdrop-blur-3xl transition-all duration-300" placeholder="#gratitude #growth" value="${entry.tags || ''}">
                        </div>

                        <!-- Buttons -->
                        <div class="flex gap-3 pt-4">
                            <button type="button" class="cancel-btn flex-1 h-12 bg-gray-600/50 text-white font-semibold rounded-xl transition-all duration-300 hover:bg-gray-600/70">
                                Cancel
                            </button>
                            <button type="button" class="save-btn flex-1 h-12 bg-gradient-to-r from-blue-400/80 to-purple-400/80 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 hover:from-blue-400/90 hover:to-purple-400/90">
                                Update Entry
                            </button>
                        </div>
                    </form>
                `;

                backdrop.appendChild(modal);
                document.body.appendChild(backdrop);

                // Handle cancel
                modal.querySelector('.cancel-btn').addEventListener('click', () => {
                    backdrop.remove();
                });

                // Handle save
                modal.querySelector('.save-btn').addEventListener('click', () => {
                    const updatedEntry = {
                        date: modal.querySelector('#modal-date').value,
                        reflections: modal.querySelector('#modal-reflections').value,
                        biggestWin: modal.querySelector('#modal-win').value,
                        keyLearning: modal.querySelector('#modal-learning').value,
                        tags: modal.querySelector('#modal-tags').value
                    };

                    if (!updatedEntry.reflections.trim()) {
                        alert('Please add at least some reflections before updating.');
                        return;
                    }

                    this.updateEntry(id, updatedEntry);
                    backdrop.remove();
                });

                // Close on backdrop click
                backdrop.addEventListener('click', (e) => {
                    if (e.target === backdrop) {
                        backdrop.remove();
                    }
                });

                // Close on Escape key
                const handleEscape = (e) => {
                    if (e.key === 'Escape') {
                        backdrop.remove();
                        document.removeEventListener('keydown', handleEscape);
                    }
                };
                document.addEventListener('keydown', handleEscape);
            }

            // Cancel edit mode
            cancelEdit() {
                // Clear form
                const reflectionsEl = document.getElementById('journal-reflections');
                const winEl = document.querySelector('.journal-win-input');
                const learningEl = document.querySelector('.journal-learning-input');
                const tagsEl = document.getElementById('journal-tags');
                const dateEl = document.querySelector('.journal-date-input');

                if (reflectionsEl) reflectionsEl.value = '';
                if (winEl) winEl.value = '';
                if (learningEl) learningEl.value = '';
                if (tagsEl) tagsEl.value = '';
                if (dateEl) dateEl.value = new Date().toISOString().split('T')[0];

                // Reset save button
                const saveBtn = document.querySelector('.journal-save-btn');
                if (saveBtn) {
                    saveBtn.textContent = 'Save Entry';
                    delete saveBtn.dataset.editId;
                }

                // Remove cancel button
                const cancelBtn = document.querySelector('button[onclick*="cancelEdit"], button:not(.journal-save-btn)');
                if (cancelBtn && cancelBtn.textContent === 'Cancel') {
                    cancelBtn.remove();
                }
            }

            // Update existing entry
            updateEntry(id, entryData) {
                const entryIndex = this.entries.findIndex(e => e.id === id);
                if (entryIndex === -1) {
                    console.error('Entry not found for update:', id);
                    return;
                }

                // Update entry with new data but keep original id, timestamp, etc.
                this.entries[entryIndex] = {
                    ...this.entries[entryIndex],
                    ...entryData,
                    id: id,
                    timestamp: this.entries[entryIndex].timestamp // Keep original timestamp
                };

                this.saveEntries();
                this.renderTimeline();
                this.updateEntryCount();
                this.showSuccessMessage('‚úÖ Entry updated successfully!');
            }
        } */

        // Initialize journal when page loads - DISABLED TEMPORARILY
        /* document.addEventListener('DOMContentLoaded', () => {
            // Create a global instance that will initialize when needed
            window.journalManager = null;

            // Function to initialize journal manager
            function initializeJournal() {
                if (!window.journalManager) {
                    console.log('JournalManager: Initializing...');
                    window.journalManager = new JournalManager();
                    console.log('JournalManager: Initialized successfully');
                }
            }

            // Also set up click handlers for the Journal tab
            document.addEventListener('click', function(event) {
                // Check if user clicked on Journal tab or any element that navigates to journal
                const target = event.target.closest('a, button, [onclick]');
                if (target && (
                    target.textContent?.includes('Journal') ||
                    target.href?.includes('journal') ||
                    target.onclick?.toString().includes('journal')
                )) {
                    console.log('Journal navigation detected, initializing...');
                    setTimeout(initializeJournal, 100); // Small delay to let the page render
                }
            });

            // Initialize immediately if elements exist, otherwise wait
            if (document.getElementById('timeline-entries')) {
                initializeJournal();
            } else {
                // Watch for journal section becoming visible
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        if (document.getElementById('timeline-entries') && !window.journalManager) {
                            initializeJournal();
                            observer.disconnect();
                        }
                    });
                });

                observer.observe(document.body, {
                    childList: true,
                    subtree: true,
                    attributes: true,
                    attributeFilter: ['style', 'class']
                });

                // Fallback: try to initialize after a delay
                setTimeout(initializeJournal, 1000);
            }

            // Also try to initialize when user clicks anywhere on journal section
            document.addEventListener('click', function(event) {
                if (!window.journalManager && event.target.closest('#journal-section')) {
                    console.log('Journal section clicked, initializing...');
                    initializeJournal();
                }
            });

            // Fallback: Direct click handler for save button
            let isSaving = false; // Prevent double saves
            document.addEventListener('click', function(event) {
                if (event.target.classList.contains('journal-save-btn') ||
                    event.target.closest('.journal-save-btn')) {
                    console.log('Save button clicked directly');

                    // Prevent any default behavior
                    event.preventDefault();
                    event.stopPropagation();

                    // Prevent double saves
                    if (isSaving) {
                        console.log('Already saving, ignoring click');
                        return;
                    }

                    isSaving = true;
                    setTimeout(() => isSaving = false, 1000); // Reset after 1 second

                    // Try to use the journal manager if available
                    if (window.journalManager) {
                        window.journalManager.handleSaveEntry();
                    } else {
                        console.log('JournalManager not available, trying to initialize...');
                        initializeJournal();
                        // Try again after a small delay
                        setTimeout(() => {
                            if (window.journalManager) {
                                window.journalManager.handleSaveEntry();
                            } else {
                                // Direct fallback - try to save without the JournalManager
                                try {
                                    const reflectionsEl = document.getElementById('journal-reflections');
                                    const winEl = document.querySelector('.journal-win-input');
                                    const learningEl = document.querySelector('.journal-learning-input');
                                    const tagsEl = document.getElementById('journal-tags');

                                    const reflections = reflectionsEl?.value || '';
                                    const biggestWin = winEl?.value || '';
                                    const keyLearning = learningEl?.value || '';
                                    const tags = tagsEl?.value || '';

                                    console.log('Direct fallback form values:', {
                                        reflections: `"${reflections}"`,
                                        biggestWin: `"${biggestWin}"`,
                                        keyLearning: `"${keyLearning}"`,
                                        tags: `"${tags}"`
                                    });

                                    if (reflections && reflections.trim().length > 0) {
                                        // Create a simple entry and save to localStorage directly
                                        const entry = {
                                            id: Date.now(),
                                            date: new Date().toISOString().split('T')[0],
                                            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                                            reflections,
                                            biggestWin,
                                            keyLearning,
                                            tags: tags.trim(),
                                            timestamp: Date.now()
                                        };

                                        let entries = [];
                                        try {
                                            const stored = localStorage.getItem('journalEntries');
                                            entries = stored ? JSON.parse(stored) : [];
                                        } catch (e) {
                                            console.error('Error reading localStorage:', e);
                                        }

                                        entries.unshift(entry);
                                        localStorage.setItem('journalEntries', JSON.stringify(entries));

                                        // Clear form
                                        if (reflectionsEl) reflectionsEl.value = '';
                                        if (winEl) winEl.value = '';
                                        if (learningEl) learningEl.value = '';
                                        if (tagsEl) tagsEl.value = '';

                                        alert('‚úÖ Entry saved successfully!');
                                        console.log('Entry saved directly to localStorage');

                                    } else {
                                        alert('Please add at least some reflections before saving.');
                                    }
                                } catch (error) {
                                    console.error('Direct fallback failed:', error);
                                    alert('Error saving entry. Please try again.');
                                }
                            }
                        }, 200);
                    }
                }
            });
        }); */

        // Tasks Manager Class - Temporarily disabled to fix unresponsiveness
        /* class TasksManager {
            constructor() {
                console.log('TasksManager: Initializing...');
                try {
                    this.tasks = this.loadTasks();
                    this.currentFilter = 'all';
                    this.init();
                    console.log('TasksManager: Initialized successfully');
                } catch (error) {
                    console.error('TasksManager: Error during initialization:', error);
                }
            }

            init() {
                console.log('TasksManager: Setting up...');
                try {
                    this.renderTasks();
                    this.setupEventListeners();
                    this.updateTaskCount();
                    console.log('TasksManager: Setup complete');
                } catch (error) {
                    console.error('TasksManager: Error during setup:', error);
                }
            }

            // Load tasks from localStorage
            loadTasks() {
                const stored = localStorage.getItem('tasksData');
                return stored ? JSON.parse(stored) : [];
            }

            // Save tasks to localStorage
            saveTasks() {
                localStorage.setItem('tasksData', JSON.stringify(this.tasks));
            }

            // Add new task
            addTask(taskData) {
                const newTask = {
                    id: Date.now(),
                    title: taskData.title,
                    description: taskData.description || '',
                    priority: taskData.priority || 'medium',
                    dueDate: taskData.dueDate || '',
                    category: taskData.category || 'personal',
                    completed: false,
                    createdAt: new Date().toISOString(),
                    completedAt: null
                };

                this.tasks.unshift(newTask);
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCount();
                this.showSuccessMessage('Task added successfully!');

                return newTask;
            }

            // Toggle task completion
            toggleTask(id) {
                const task = this.tasks.find(t => t.id === id);
                if (task) {
                    task.completed = !task.completed;
                    task.completedAt = task.completed ? new Date().toISOString() : null;
                    this.saveTasks();
                    this.renderTasks();
                    this.updateTaskCount();
                }
            }

            // Delete task
            deleteTask(id) {
                this.tasks = this.tasks.filter(task => task.id !== id);
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCount();
                this.showSuccessMessage('Task deleted successfully!');
            }

            // Filter tasks
            filterTasks(filter) {
                this.currentFilter = filter;
                this.renderTasks();

                // Update filter buttons
                document.querySelectorAll('.tasks-filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.filter === filter) {
                        btn.classList.add('active');
                    }
                });
            }

            // Get filtered tasks
            getFilteredTasks() {
                switch (this.currentFilter) {
                    case 'completed':
                        return this.tasks.filter(task => task.completed);
                    case 'pending':
                        return this.tasks.filter(task => !task.completed);
                    default:
                        return this.tasks;
                }
            }

            // Render tasks
            renderTasks() {
                try {
                    console.log('TasksManager: Rendering tasks...');
                    const container = document.getElementById('tasks-list');
                    const emptyState = document.getElementById('tasks-empty-state');

                    if (!container) {
                        console.error('TasksManager: tasks-list container not found');
                        return;
                    }

                    if (!emptyState) {
                        console.error('TasksManager: tasks-empty-state not found');
                        return;
                    }

                    const filteredTasks = this.getFilteredTasks();
                    console.log('TasksManager: Found', filteredTasks.length, 'tasks to render');

                    if (filteredTasks.length === 0) {
                        container.innerHTML = emptyState.outerHTML;
                        return;
                    }

                    let html = '';
                    filteredTasks.forEach(task => {
                        html += this.createTaskHTML(task);
                    });

                    container.innerHTML = html;
                    this.attachTaskEventListeners();
                    console.log('TasksManager: Tasks rendered successfully');
                } catch (error) {
                    console.error('TasksManager: Error rendering tasks:', error);
                }
            }

            // Create task HTML
            createTaskHTML(task) {
                const priorityClass = task.priority;
                const priorityLabel = task.priority.charAt(0).toUpperCase() + task.priority.slice(1);
                const completedClass = task.completed ? 'completed' : '';
                const dueText = task.dueDate ? new Date(task.dueDate).toLocaleDateString() : '';
                const categoryIcon = this.getCategoryIcon(task.category);

                return `
                    <div class="task-item ${completedClass}" data-id="${task.id}">
                        <div class="task-header">
                            <div class="task-title">${this.escapeHtml(task.title)}</div>
                            <div class="task-priority ${priorityClass}">${priorityLabel}</div>
                        </div>
                        ${task.description ? `<div class="task-description">${this.escapeHtml(task.description)}</div>` : ''}
                        <div class="task-meta">
                            <div class="task-category">${categoryIcon} ${task.category}</div>
                            ${dueText ? `<div class="task-due">üìÖ ${dueText}</div>` : ''}
                        </div>
                        <div class="task-actions">
                            <button class="task-btn task-complete-btn" data-id="${task.id}">
                                ${task.completed ? '‚Ü©Ô∏è Undo' : '‚úÖ Complete'}
                            </button>
                            <button class="task-btn task-delete-btn" data-id="${task.id}">
                                üóëÔ∏è Delete
                            </button>
                        </div>
                    </div>
                `;
            }

            // Get category icon
            getCategoryIcon(category) {
                const icons = {
                    personal: 'üë§',
                    work: 'üíº',
                    health: 'üí™',
                    learning: 'üìö',
                    other: 'üìå'
                };
                return icons[category] || 'üìå';
            }

            // Escape HTML
            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            // Update task count
            updateTaskCount() {
                const countElement = document.getElementById('tasks-count');
                if (countElement) {
                    countElement.textContent = `${this.tasks.length} task${this.tasks.length !== 1 ? 's' : ''} total`;
                }
            }

            // Setup event listeners
            setupEventListeners() {
                try {
                    console.log('TasksManager: Setting up event listeners...');

                    // Add task button
                    const addBtn = document.getElementById('add-task-btn');
                    if (addBtn) {
                        addBtn.addEventListener('click', () => this.handleAddTask());
                        console.log('TasksManager: Add task button listener attached');
                    } else {
                        console.warn('TasksManager: Add task button not found');
                    }

                    // Filter buttons
                    const filterButtons = document.querySelectorAll('.tasks-filter-btn');
                    console.log('TasksManager: Found', filterButtons.length, 'filter buttons');
                    filterButtons.forEach(btn => {
                        btn.addEventListener('click', () => {
                            console.log('TasksManager: Filter clicked:', btn.dataset.filter);
                            this.filterTasks(btn.dataset.filter);
                        });
                    });

                    console.log('TasksManager: Event listeners setup complete');
                } catch (error) {
                    console.error('TasksManager: Error setting up event listeners:', error);
                }
            }

            // Attach event listeners to task elements
            attachTaskEventListeners() {
                // Complete buttons
                document.querySelectorAll('.task-complete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        this.toggleTask(id);
                    });
                });

                // Delete buttons
                document.querySelectorAll('.task-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        if (confirm('Are you sure you want to delete this task?')) {
                            this.deleteTask(id);
                        }
                    });
                });
            }

            // Handle add task
            handleAddTask() {
                const titleInput = document.getElementById('task-title-input');
                const descriptionInput = document.getElementById('task-description-input');
                const prioritySelect = document.getElementById('task-priority-select');
                const dueInput = document.getElementById('task-due-input');
                const categorySelect = document.getElementById('task-category-select');

                const title = titleInput?.value?.trim();
                if (!title) {
                    alert('Please enter a task title.');
                    return;
                }

                const taskData = {
                    title,
                    description: descriptionInput?.value?.trim() || '',
                    priority: prioritySelect?.value || 'medium',
                    dueDate: dueInput?.value || '',
                    category: categorySelect?.value || 'personal'
                };

                this.addTask(taskData);

                // Clear form
                if (titleInput) titleInput.value = '';
                if (descriptionInput) descriptionInput.value = '';
                if (dueInput) dueInput.value = '';
                if (prioritySelect) prioritySelect.value = 'medium';
                if (categorySelect) categorySelect.value = 'personal';
            }

            // Show success message - DISABLED TO FIX NOTIFICATION POSITIONING
            showSuccessMessage(message) {
                // Disabled - using centered notifications instead
                console.log('TasksManager showSuccessMessage disabled');
            }
        } */

        // Initialize TasksManager when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // TasksManager will be initialized when showTasksPage() is called
        });
    </script>
</script>

    <!-- Simple Tasks Script - NO CLASSES, JUST BASIC FUNCTIONS -->
    <script>
        function addSimpleTask() {
            const titleInput = document.getElementById('task-title-input');
            const title = titleInput.value.trim();

            if (!title) {
                alert('Please enter a task title');
                return;
            }

            const taskList = document.getElementById('tasks-list');
            const emptyState = document.getElementById('tasks-empty-state');

            // Hide empty state if visible
            if (emptyState) {
                emptyState.style.display = 'none';
            }

            // Create task element
            const taskDiv = document.createElement('div');
            taskDiv.className = 'task-item';
            taskDiv.style.cssText = 'background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 16px; margin-bottom: 12px; transition: all 0.3s ease;';

            taskDiv.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                    <div style="color: white; font-weight: 500; font-size: 16px; flex: 1;">${title}</div>
                    <div style="padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500; background: rgba(251, 191, 36, 0.2); color: #fbbf24; border: 1px solid rgba(251, 191, 36, 0.3);">MEDIUM</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button onclick="this.parentElement.parentElement.remove()" style="padding: 4px 8px; border-radius: 6px; font-size: 12px; border: none; cursor: pointer; background: rgba(34, 197, 94, 0.2); color: #22c55e;">‚úÖ Complete</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="padding: 4px 8px; border-radius: 6px; font-size: 12px; border: none; cursor: pointer; background: rgba(239, 68, 68, 0.2); color: #ef4444;">üóëÔ∏è Delete</button>
                </div>
            `;

            // Add to top of list
            taskList.insertBefore(taskDiv, taskList.firstChild);

            // Clear input
            titleInput.value = '';

            // Update count
            updateTaskCount();

            // Show success
            showTaskSuccess();
        }

        function updateTaskCount() {
            const taskList = document.getElementById('tasks-list');
            const countElement = document.getElementById('tasks-count');
            const tasks = taskList.querySelectorAll('.task-item');

            if (countElement) {
                countElement.textContent = `${tasks.length} task${tasks.length !== 1 ? 's' : ''} total`;
            }
        }

        function showTaskSuccess() {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = 'position: fixed; top: 20px; right: 20px; background: rgba(34, 197, 94, 0.2); border: 1px solid rgba(34, 197, 94, 0.3); color: #22c55e; padding: 12px 20px; border-radius: 8px; z-index: 9999;';
            successDiv.textContent = '‚úÖ Task added successfully!';
            document.body.appendChild(successDiv);

            setTimeout(() => {
                successDiv.remove();
            }, 2000);
        }

        // SIMPLE WORKING JOURNAL SAVE FUNCTION
        function saveJournalEntry() {
            try {
                const reflections = document.getElementById('journal-reflections')?.value || '';
                const biggestWin = document.querySelector('.journal-win-input')?.value || '';
                const keyLearning = document.querySelector('.journal-learning-input')?.value || '';
                const tags = document.getElementById('journal-tags')?.value || '';
                const date = new Date().toISOString().split('T')[0];

                if (!reflections.trim()) {
                    alert('Please add some reflections before saving.');
                    return;
                }

                // Get existing entries
                let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');

                // Add new entry
                const entry = {
                    id: Date.now(),
                    date: date,
                    reflections: reflections,
                    biggestWin: biggestWin,
                    keyLearning: keyLearning,
                    tags: tags,
                    createdAt: new Date().toISOString()
                };

                entries.unshift(entry);
                localStorage.setItem('journalEntries', JSON.stringify(entries));

                // Clear form
                document.getElementById('journal-reflections').value = '';
                document.querySelector('.journal-win-input').value = '';
                document.querySelector('.journal-learning-input').value = '';
                document.getElementById('journal-tags').value = '';

                console.log('Journal entry saved successfully:', entry);

                // Reload entries to show the new one
                loadJournalEntries();

            } catch (error) {
                console.error('Error saving journal entry:', error);
                alert('Error saving entry. Please try again.');
            }
        }

        // Load and display journal entries
        function loadJournalEntries() {
            try {
                const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                const timelineContainer = document.getElementById('timeline-entries');

                if (!timelineContainer) {
                    console.error('Timeline container not found');
                    return;
                }

                // Clear existing entries
                timelineContainer.innerHTML = '';

                if (entries.length === 0) {
                    timelineContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: rgba(255,255,255,0.5);">
                            <div style="font-size: 48px; margin-bottom: 16px;">üìù</div>
                            <div style="font-size: 18px;">No journal entries yet. Start writing your first entry!</div>
                        </div>
                    `;
                    return;
                }

                // Display entries
                entries.forEach(entry => {
                    const entryDiv = document.createElement('div');
                    entryDiv.style.cssText = `
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        border-radius: 16px;
                        padding: 24px;
                        margin-bottom: 20px;
                        backdrop-filter: blur(10px);
                        transition: all 0.3s ease;
                    `;

                    const entryDate = new Date(entry.date).toLocaleDateString('en-US', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });

                    entryDiv.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                            <div>
                                <div style="color: #06b6d4; font-size: 16px; font-weight: 600; margin-bottom: 4px;">${entryDate}</div>
                                <div style="color: rgba(255,255,255,0.7); font-size: 14px;">${new Date(entry.createdAt).toLocaleTimeString()}</div>
                            </div>
                            <button onclick="deleteEntry(${entry.id})" style="background: rgba(239, 68, 68, 0.2); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3); padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 12px;">
                                üóëÔ∏è Delete
                            </button>
                        </div>

                        ${entry.reflections ? `
                        <div style="margin-bottom: 16px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase;">üí≠ Reflections</div>
                            <div style="color: white; line-height: 1.6; font-size: 15px;">${entry.reflections}</div>
                        </div>
                        ` : ''}

                        ${entry.biggestWin ? `
                        <div style="margin-bottom: 16px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase;">üèÜ Biggest Win</div>
                            <div style="color: rgba(255,255,255,0.9); font-size: 14px;">${entry.biggestWin}</div>
                        </div>
                        ` : ''}

                        ${entry.keyLearning ? `
                        <div style="margin-bottom: 16px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase;">üìö Key Learning</div>
                            <div style="color: rgba(255,255,255,0.9); font-size: 14px;">${entry.keyLearning}</div>
                        </div>
                        ` : ''}

                        ${entry.tags ? `
                        <div>
                            <div style="color: rgba(255,255,255,0.6); font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase;">üè∑Ô∏è Tags</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 6px;">
                                ${entry.tags.split(' ').map(tag =>
                                    `<span style="background: rgba(6, 182, 212, 0.2); color: #06b6d4; padding: 4px 8px; border-radius: 12px; font-size: 11px;">#${tag}</span>`
                                ).join('')}
                            </div>
                        </div>
                        ` : ''}
                    `;

                    timelineContainer.appendChild(entryDiv);
                });

                console.log(`Loaded ${entries.length} journal entries`);
            } catch (error) {
                console.error('Error loading journal entries:', error);
            }
        }

        // Delete journal entry
        function deleteEntry(id) {
            // Use custom centered confirmation dialog
            window.showDeleteConfirmationGlobal(id);
        }

        // Global delete confirmation function - accessible from anywhere
        window.showDeleteConfirmationGlobal = function(id) {
            // Create small dialog
            const dialog = document.createElement('div');
            dialog.style.cssText = 'position: fixed !important; top: 50% !important; left: 50% !important; transform: translate(-50%, -50%) !important; background: rgba(30, 41, 59, 0.95) !important; color: white !important; padding: 20px !important; border-radius: 12px !important; z-index: 999999 !important; border: 1px solid rgba(239, 68, 68, 0.5) !important; box-shadow: 0 10px 25px rgba(0,0,0,0.5) !important; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important; min-width: 280px !important; max-width: 320px !important;';
            dialog.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 12px; color: #ef4444;">‚ö†Ô∏è</div>
                    <div style="font-weight: 600; font-size: 16px; margin-bottom: 8px; line-height: 1.3;">Delete this entry?</div>
                    <div style="font-size: 13px; color: rgba(255,255,255,0.7); margin-bottom: 16px;">This cannot be undone.</div>
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <button class="cancel-btn" style="padding: 8px 16px; background: rgba(107, 114, 128, 0.7); color: white; border: 1px solid rgba(107, 114, 128, 0.5); border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.2s;">
                            Cancel
                        </button>
                        <button class="confirm-btn" style="padding: 8px 16px; background: rgba(239, 68, 68, 0.8); color: white; border: 1px solid rgba(239, 68, 68, 0.5); border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; transition: all 0.2s;">
                            Delete
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(dialog);

            // Handle cancel
            dialog.querySelector('.cancel-btn').addEventListener('click', () => {
                dialog.remove();
            });

            // Handle confirm delete
            dialog.querySelector('.confirm-btn').addEventListener('click', () => {
                // Perform actual deletion
                try {
                    let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                    entries = entries.filter(entry => entry.id !== id);
                    localStorage.setItem('journalEntries', JSON.stringify(entries));
                    loadJournalEntries(); // Reload entries

                    // Show small success message
                    const successDiv = document.createElement('div');
                    successDiv.style.cssText = 'position: fixed !important; top: 20px !important; left: 50% !important; transform: translateX(-50%) !important; background: rgba(239, 68, 68, 0.9) !important; color: white !important; padding: 12px 20px !important; border-radius: 8px !important; z-index: 999999 !important; font-weight: normal !important; font-size: 14px !important; box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;';
                    successDiv.textContent = 'Deleted';
                    successDiv.id = 'delete-notification';
                    document.body.appendChild(successDiv);

                    setTimeout(() => {
                        successDiv.remove();
                    }, 1500);

                    console.log('Journal entry deleted successfully');
                } catch (error) {
                    console.error('Error deleting entry:', error);
                    alert('Error deleting entry. Please try again.');
                }

                dialog.remove();
            });
        };

        // Attach save function to save button
        document.addEventListener('DOMContentLoaded', function() {
            const saveBtn = document.querySelector('.journal-save-btn');
            if (saveBtn) {
                saveBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    saveJournalEntry();
                });
                console.log('Save button listener attached successfully');
            } else {
                console.error('Save button not found');
            }

            // Load entries when page loads
            loadJournalEntries();
            console.log('Journal entries loaded on page load');

            // Set initial sidebar active state
            updateSidebarActive('dashboard');
            console.log('Initial sidebar state set to dashboard');
        });

    </script>
</body>
</html>
